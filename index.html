<!DOCTYPE html>
<html lang="ru" style="cursor:none">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DK | PRODUCTION-DESIGNER</title>
    <style>
        html,
        body,
        html.preloading,
        html.preloading *,
        body.intro-active,
        body.intro-active * {
            cursor: none !important;
        }
    </style>

    <script>
        document.documentElement.style.cursor = 'none';
        document.documentElement.classList.add('preloading');
    </script>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Шрифты -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300;500&family=Syne:wght@700;800&family=Permanent+Marker&display=swap"
        rel="stylesheet">
    <link rel="icon" href="/favicon.ico?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16.png?v=3">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png?v=3">

    <!-- Библиотеки -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        tech: ['"IBM Plex Mono"', 'monospace'],
                        display: ['"Syne"', 'sans-serif'],
                    },
                    colors: {
                        'dk-black': '#050505',
                        'dk-gray': '#888888',
                        'dk-white': '#F0F0F0',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            color: #F0F0F0;
            cursor: none;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* PRELOADER: green wave line */
        #preloader {
            position: fixed;
            inset: 0;
            background: #050505;
            z-index: 200000;
            display: grid;
            place-items: center;
            pointer-events: auto;
            opacity: 1;
            transition: opacity 0.6s ease;
            cursor: none !important;
            touch-action: none;
        }

        #preloader.is-hidden {
            opacity: 0;
        }

        #preloader-canvas {
            width: 100%;
            height: 300px;
            display: block;
        }

        html,
        body,
        body a,
        body button,
        body .art-eye,
        body video,
        body iframe,
        body canvas,
        body input,
        body textarea,
        body select,
        body * {
            cursor: none !important;
            cursor: none !important;
            user-select: none;
            -webkit-user-select: none;
            -webkit-user-drag: none;
        }

        /* Блокируем перетаскивание ссылок/кнопок, чтобы Safari не показывал предпросмотр */
        a,
        button {
            -webkit-user-drag: none;
        }

        /* Включаем кастомный курсор поверх стандартного */
        .cursor-dot {
            position: fixed;
            top: 0;
            left: 0;
            width: 12px;
            height: 12px;
            background: #ffffff;
            border-radius: 50%;
            pointer-events: none;
            z-index: 300001;
            transform: translate(-50%, -50%);
            box-shadow:
                0 0 14px rgba(255, 255, 255, 0.9),
                0 0 20px rgba(209, 255, 15, 0.7);
            opacity: 1;
            display: block;
        }

        .cursor-dot.is-contrast {
            background: #d1ff0f;
            box-shadow:
                0 0 14px rgba(209, 255, 15, 0.9),
                0 0 22px rgba(209, 255, 15, 0.6);
        }

        .cursor-dot {
            opacity: 0;
        }

        .cursor-active .cursor-dot,
        .intro-active .cursor-dot {
            opacity: 1;
        }

        html.preloading .cursor-dot {
            opacity: 0 !important;
        }



        /* Mobile/Touch optimization: hide custom cursor, restore default */
        @media (hover: none) and (pointer: coarse) {
            .cursor-dot {
                display: none !important;
            }

            body,
            body a,
            body button,
            body * {
                cursor: auto !important;
            }
        }

        .cursor-contrast .card-img {
            cursor: none;
        }

        /* 1. ИСПРАВЛЕННЫЙ ТЕКСТ (Адаптивный размер) */
        .hero-title {
            /* clamp(мин, идеал, макс) - текст никогда не будет слишком большим или маленьким */
            font-size: clamp(3rem, 7vw, 8.6rem);
            line-height: 0.9;
            text-transform: uppercase;
            mix-blend-mode: exclusion;
            letter-spacing: -0.03em;
            width: 100%;
            text-align: center;
            word-break: normal;
            white-space: normal;
            display: inline-block;
            will-change: transform, filter;
            transition: transform 0.4s ease, filter 0.4s ease;
            user-select: none;
            -webkit-user-select: none;
        }

        .hero-title span {
            display: inline-block;
            white-space: nowrap;
            user-select: none;
            -webkit-user-select: none;
        }

        .hero-title .hero-letter {
            display: inline-block;
            cursor: none;
            /* использовать наш кастомный курсор-точку */
            position: relative;
            transition: text-shadow 0.3s ease, transform 0.3s ease, filter 0.3s ease;
            color: #ffffff;
        }

        .hero-title .hero-letter:hover {
            text-shadow: 0 0 14px rgba(209, 255, 15, 0.4);
            filter: drop-shadow(0 0 6px rgba(209, 255, 15, 0.28));
            color: #d1ff0f;
            /* ярко-желто-зеленый как референс */
        }

        .hero-tilt {
            perspective: 1400px;
            display: inline-block;
        }

        .hero-title.bursting,
        .hero-title.bursting .hero-letter {
            color: #d1ff0f;
            text-shadow: 0 0 14px rgba(209, 255, 15, 0.35);
            filter: drop-shadow(0 0 10px rgba(209, 255, 15, 0.25));
        }

        /* Контрастный курсор внутри выбранных карточек */

        /* 2. КУРСОР */
        /* cursor aura removed */





        .cursor-dot.is-contrast {
            background: #d1ff0f;
            box-shadow:
                0 0 14px rgba(209, 255, 15, 0.9),
                0 0 22px rgba(209, 255, 15, 0.6);
        }

        /* Intro / Projects toggle */
        .view-intro .stack-main {
            display: none !important;
        }

        .view-intro #commercials,
        .view-intro #film {
            display: none !important;
        }

        .view-intro #tvshows {
            display: none !important;
        }

        .view-intro #mv {
            display: none !important;
        }

        .view-intro #project-detail {
            display: none !important;
        }

        /* VIEW START (Clean Home State like Intro) */


        /* START PROJECT CTA */
        .start-section {
            padding: 220px 0 200px;
            position: relative;
            overflow: hidden;
            contain: layout paint;
            transform: translateZ(0);
        }

        .start-cta {
            position: relative;
            margin: 0 auto;
            --record-size: min(360px, 90vw);
            width: var(--record-size);
            aspect-ratio: 1 / 1;
            display: grid;
            place-items: center;
            background: transparent;
            border: none;
            cursor: pointer;
            overflow: visible;
            --record-scale: 2.2;
        }

        .start-record {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: contain;
            z-index: 2;
            filter: drop-shadow(0 18px 40px rgba(0, 0, 0, 0.55));
            transform: translate3d(-50%, -50%, 0) scale(var(--record-scale));
            transform-origin: center;
            animation: spinRecord 36s linear infinite;
            pointer-events: none;
            will-change: transform;
            backface-visibility: hidden;
        }

        .start-record-glow {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            --glow-intensity: 0.2;
            --glow-scale: 2.995;
            --glow-blur: 1px;
            transform: translate(-50%, -50%) scale(calc(var(--glow-scale) * var(--record-scale) / 3));
            transform-origin: center;
            z-index: 1;
            background: radial-gradient(ellipse at 50% 50%,
                    rgba(209, 255, 15, calc(0.16 + var(--glow-intensity, 0.2) * 0.24)) 0%,
                    rgba(209, 255, 15, calc(0.08 + var(--glow-intensity, 0.2) * 0.14)) 30%,
                    rgba(209, 255, 15, calc(0.03 + var(--glow-intensity, 0.2) * 0.08)) 42%,
                    rgba(209, 255, 15, 0) 52%);
            filter: blur(var(--glow-blur));
            opacity: calc(0.85 + var(--glow-intensity, 0.2) * 0.6);
            transition: transform 0.18s ease, filter 0.18s ease, opacity 0.18s ease;
            pointer-events: none;
        }

        .start-cta .reel {
            position: absolute;
            inset: 0;
            border-radius: 50%;
            z-index: 1;
            border: 4px solid rgba(255, 255, 255, 0.16);
            box-shadow:
                0 0 30px rgba(0, 0, 0, 0.5),
                inset 0 0 40px rgba(0, 0, 0, 0.8),
                radial-gradient(circle at 50% 50%, rgba(60, 60, 60, 0.35) 0%, rgba(20, 20, 20, 0.8) 40%, rgba(10, 10, 10, 0.95) 65%,
                    rgba(0, 0, 0, 0.1) 100%),
                radial-gradient(circle at 50% 50%, transparent 20%, rgba(0, 0, 0, 0.6) 21%, transparent 24%),
                radial-gradient(circle at 50% 50%, transparent 34%, rgba(0, 0, 0, 0.5) 35%, transparent 38%);
        }

        .start-cta .reel.reel-2 {
            inset: 14%;
            animation-duration: 12s;
            opacity: 0.6;
            border-width: 3px;
        }

        .start-cta .reel.reel-3 {
            inset: 28%;
            animation-duration: 8s;
            opacity: 0.45;
            border-width: 2px;
        }

        .start-cta .start-word {
            font-family: "Syne", sans-serif;
            font-weight: 700;
            font-size: clamp(1.6rem, calc(var(--record-size) * 0.22), 4.5rem);
            color: #ffffff;
            letter-spacing: -0.04em;
            line-height: 0.9;
            text-transform: uppercase;
            transition: color 0.2s ease, filter 0.2s ease;
        }

        .start-cta .project-word {
            font-family: "Permanent Marker", cursive;
            font-size: clamp(1.8rem, calc(var(--record-size) * 0.25), 4.8rem);
            color: #ff73d9;
            transform: translateY(8px) rotate(-2deg);
            letter-spacing: 0.04em;
            text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.45);
            -webkit-text-stroke: 2px rgba(0, 0, 0, 0.18);
        }

        .start-cta .cta-inner {
            pointer-events: auto;
            text-align: center;
            filter: drop-shadow(0 0 8px rgba(0, 0, 0, 0.4));
            position: relative;
            z-index: 5;
        }

        @media (max-width: 1100px) {
            .start-cta {
                --record-size: min(320px, 70vw);
                --record-scale: 1.6;
            }
        }

        @media (max-width: 900px) {
            .start-cta {
                --record-size: min(280px, 64vw);
                --record-scale: 1.35;
            }
        }

        @media (max-width: 768px) {
            .start-cta {
                --record-size: 150px;
                --record-scale: 0.56;
            }

            .start-record {
                filter: drop-shadow(0 6px 16px rgba(0, 0, 0, 0.35));
            }
        }

        @keyframes spinReel {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes spinRecord {
            0% {
                transform: translate3d(-50%, -50%, 0) scale(3) rotate(0deg);
            }

            100% {
                transform: translate3d(-50%, -50%, 0) scale(3) rotate(360deg);
            }
        }

        /* Yellow-green accent */
        .accent-yg {
            color: #d1ff0f !important;
        }

        .nav-link {
            color: #ffffff;
            transition: color 0.2s ease;
            position: relative;
            padding: 20px 0;
            /* Increase hit area vertically */
            display: inline-block;
        }

        .nav-link:hover {
            color: #d1ff0f;
        }

        .top-icon {
            transition: all 0.2s ease;
            position: relative;
            z-index: 60;
            /* Ensure above overlaps */
            pointer-events: auto !important;
            /* Force clickability */
        }

        .top-icon:hover {
            border-color: #d1ff0f;
            color: #050505;
            background: #d1ff0f;
            box-shadow: 0 0 10px rgba(209, 255, 15, 0.3);
        }

        .icon-kinopoisk,
        .social-icon {
            width: 56px;
            height: 56px;
            max-width: none;
            max-height: none;
            display: block;
            object-fit: contain;
            opacity: 1;
            visibility: visible;
        }

        .start-cta .start-word:hover {
            color: #d1ff0f;
            filter: drop-shadow(0 0 10px rgba(209, 255, 15, 0.4));
        }

        .film-tape {
            position: absolute;
            left: 50%;
            top: 50%;
            width: 200vw;
            height: 44px;
            transform: translate(-50%, -50%) rotate(-2deg);
            z-index: 0;
            background:
                repeating-linear-gradient(90deg, rgba(0, 0, 0, 0.6) 0 18px, rgba(30, 30, 30, 0.85) 18px 32px),
                repeating-linear-gradient(90deg, transparent 0 10px, rgba(0, 0, 0, 0.4) 10px 14px, transparent 14px 32px),
                linear-gradient(90deg, rgba(180, 180, 180, 0.12), rgba(220, 220, 220, 0.22), rgba(180, 180, 180, 0.12));
            border-top: 2px solid rgba(255, 255, 255, 0.35);
            border-bottom: 2px solid rgba(255, 255, 255, 0.35);
            box-shadow: 0 0 12px rgba(0, 0, 0, 0.45);
            background-size: 200px 100%;
            animation: tapeScroll 3.2s linear infinite;
            overflow: hidden;
        }

        .film-tape .tape-track {
            display: none;
        }

        @keyframes tapeScroll {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: -200px 0;
            }
        }

        /* View toggles */
        body.view-films .stack-main {
            display: block;
        }

        @media (min-width: 768px) {

            body.view-films header,
            body.view-commercials header,
            body.view-tvshows header,
            body.view-mv header {
                display: none !important;
            }

            /* Fix Header Overlap: Uniform spacing for project sections */
            /* We target per-ID to ensure both nested (#film) and direct (#commercials) sections behave identically */
            .stack-area {
                padding-top: 0px !important;
                /* Reset wrapper padding */
            }

            #film,
            #commercials,
            #tvshows,
            #mv {
                padding-top: var(--header-height, 80px) !important;
                /* Dynamic padding + fallback */
            }
        }

        body.view-films #commercials,
        body.view-films #tvshows,
        body.view-films #mv {
            display: none !important;
        }

        body.view-commercials .stack-main,
        body.view-commercials #tvshows,
        body.view-commercials #mv {
            display: none !important;
        }

        body.view-commercials #commercials {
            display: block;
        }

        body.view-tvshows .stack-main,
        body.view-tvshows #commercials,
        body.view-tvshows #mv {
            display: none !important;
        }

        body.view-tvshows #tvshows {
            display: block;
        }

        body.view-mv .stack-main,
        body.view-mv #commercials,
        body.view-mv #tvshows {
            display: none !important;
        }

        body.view-mv #mv {
            display: block;
        }

        body.view-bio .stack-main,
        body.view-bio #commercials,
        body.view-bio #tvshows,
        body.view-bio #mv,
        body.view-bio header,
        body.view-bio .start-section {
            display: none !important;
        }

        body.view-bio #other {
            display: block;
        }

        body:not(.view-bio) #other {
            display: none !important;
        }

        body.view-contact .stack-main,
        body.view-contact #commercials,
        body.view-contact #tvshows,
        body.view-contact #mv,
        body.view-contact header,
        body.view-contact .start-section,
        body.view-contact #other {
            display: none !important;
        }

        body.view-contact #contact {
            display: block;
        }

        body:not(.view-contact) #contact {
            display: none !important;
        }

        /* BIO DRIP */
        .bio-section {
            position: relative;
            min-height: 100vh;
            overflow: hidden;
            background: #c2df14;
            color: #050505;
            /* текст скрыт до заливки */
            display: none;
        }

        .bio-video {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 0;
            opacity: 1;
            transition: opacity 0.8s ease;
        }

        .bio-shell {
            position: relative;
            z-index: 2;
            opacity: 1;
            color: #050505;
        }

        .bio-paint {
            position: absolute;
            inset: 0;
            height: 0%;
            background: rgba(209, 255, 15, 0.12);
            clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
            z-index: 1;
            mix-blend-mode: screen;
            display: none;
        }

        .bio-section.bio-animate .bio-paint {
            display: block;
            /* Ensure visibility */
            animation: bioFill 3.6s ease-in-out forwards;
        }

        .bio-section.bio-animate .bio-shell {
            animation: bioTextFade 2.2s ease forwards 1.6s;
        }

        .bio-drip-dot {
            position: absolute;
            width: 18px;
            height: 26px;
            background: #d1ff0f;
            border-radius: 50%;
            opacity: 0;
            z-index: 1;
            display: none;
        }

        .bio-section.bio-animate .bio-drip-dot {
            animation: dripFall 1.9s ease-in forwards;
        }

        .bio-drip-dot.d1 {
            left: 18%;
            animation-delay: 0.0s;
        }

        .bio-drip-dot.d2 {
            left: 48%;
            animation-delay: 0.25s;
            width: 14px;
            height: 22px;
        }

        .bio-drip-dot.d3 {
            left: 72%;
            animation-delay: 0.4s;
            width: 20px;
            height: 30px;
        }

        @keyframes dripFall {
            0% {
                transform: translateY(-60px) scale(0.6);
                opacity: 0;
            }

            25% {
                opacity: 1;
            }

            80% {
                transform: translateY(88vh) scale(1);
                opacity: 0.9;
            }

            100% {
                transform: translateY(105vh) scale(1.05);
                opacity: 0;
            }
        }

        @keyframes bioFill {
            0% {
                height: 0%;
                clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
            }

            35% {
                height: 45%;
                clip-path: polygon(0 0, 100% 0, 100% 28%, 78% 32%, 70% 44%, 54% 30%, 42% 38%, 30% 54%, 12% 34%, 0 38%);
            }

            65% {
                height: 78%;
                clip-path: polygon(0 0, 100% 0, 100% 52%, 86% 56%, 74% 74%, 60% 60%, 46% 78%, 30% 58%, 18% 70%, 0 62%);
            }

            100% {
                height: 100%;
                clip-path: polygon(0 0, 100% 0, 100% 100%, 82% 94%, 68% 100%, 54% 94%, 38% 100%, 22% 94%, 0 100%);
            }
        }

        @keyframes bioTextFade {
            0% {
                opacity: 0;
                transform: translateY(14px);
            }

            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .bio-tag {
            display: inline-block;
            padding: 6px 12px;
            border: 1px solid rgba(255, 255, 255, 0.25);
            border-radius: 999px;
            font-size: 11px;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.7);
            background: rgba(0, 0, 0, 0.3);
        }

        .bio-title {
            margin-top: 1.4rem;
            font-size: clamp(3.2rem, 4.2vw, 4.6rem);
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #050505;
            text-align: center;
        }

        .bio-heading {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.05rem;
        }

        .bio-subtitle {
            font-family: "IBM Plex Mono", monospace;
            text-transform: uppercase;
            letter-spacing: 0.55em;
            font-size: 0.95rem;
            font-weight: 600;
            color: #050505;
            text-align: center;
        }

        .bio-name {
            font-family: "IBM Plex Mono", monospace;
            text-transform: uppercase;
            letter-spacing: 0.55em;
            font-size: 0.9rem;
            font-weight: 700;
            color: #050505;
            text-align: center;
        }

        .bio-text {
            text-align: center;
        }

        .bio-text p {
            color: #050505;
            font-size: 15px;
            line-height: 1.7;
        }

        .bio-section-title {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            font-weight: 600;
            color: #050505;
        }

        .bio-skill-title {
            margin-top: 1.1rem;
            font-weight: 600;
            color: #050505;
        }

        .bio-skill-desc {
            margin-top: 0.35rem;
        }

        .footer-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0 12px;
            border-top: none;
        }

        .footer-mark {
            font-family: "Syne", sans-serif;
            font-size: 11px;
            letter-spacing: 0.45em;
            text-transform: uppercase;
            color: #d1ff0f;
        }

        .bio-photo {
            position: relative;
            width: 100%;
            padding-top: 120%;
            background: radial-gradient(circle at 20% 20%, rgba(209, 255, 15, 0.12), transparent 40%), rgba(255, 255, 255,
                    0.03);
            border: 1px dashed rgba(255, 255, 255, 0.2);
            border-radius: 18px;
            overflow: hidden;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.55);
        }

        .bio-photo img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .bio-section .grid {
            position: relative;
            z-index: 2;
        }

        .bio-gl {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            mix-blend-mode: screen;
            opacity: 0.7;
            display: none;
            /* отключаем шейдер, используем видео */
        }

        .bio-section.bio-fallback .bio-video {
            opacity: 0;
            transition-duration: 15s;
        }

        .contact-section {
            position: relative;
            min-height: 100vh;
            overflow: hidden;
            background: #c2df14;
            display: none;
        }

        .contact-overlay {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: clamp(12px, 4vw, 40px);
            background: transparent;
            pointer-events: none;
        }

        .contact-card {
            text-align: center;
            color: #000000;
            opacity: 1;
            line-height: 1.1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .contact-card .headline {
            font-family: 'Syne', 'Helvetica Neue', Arial, sans-serif;
            font-size: 1.4rem;
            font-weight: 800;
            letter-spacing: 0.06em;
            text-transform: uppercase;
            line-height: 1;
        }

        .contact-card .name {
            font-family: 'Syne', 'Helvetica Neue', Arial, sans-serif;
            font-size: 1.6rem;
            font-weight: 800;
            letter-spacing: 0.02em;
            text-transform: uppercase;
            margin-top: 0;
            line-height: 1;
        }

        .contact-card .contacts {
            margin-top: 4px;
            display: flex;
            flex-direction: column;
            gap: 2px;
            font-family: 'IBM Plex Mono', monospace;
            font-weight: 700;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            font-size: 1rem;
            line-height: 1.05;
            pointer-events: auto;
        }

        .contact-card .contacts a {
            color: inherit;
            text-decoration: none;
        }

        .contact-card .contacts a:hover {
            color: #ffffff;
        }

        /* 3. CANVAS (ЧАСТИЦЫ) */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* 4. КАРТОЧКИ */
        .stack-area {
            padding-bottom: 0;
            position: relative;
            z-index: auto;
            /* Was 10, changed to auto to allow bubbling */
        }

        .project-card {
            position: sticky;
            top: 0;
            background: transparent;
            border-top: none;
            min-height: 60vh;
            display: block;
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
            overflow: hidden;
            scroll-margin-top: 120px;
            user-select: none;
            z-index: 10;
            /* Base z-index */
        }

        .project-card.info-open {
            z-index: 60 !important;
            /* Above Eye (50) */
        }

        .project-title {
            font-size: clamp(2rem, 2.8vw, 3rem);
            line-height: 1.05;
            white-space: normal;
            word-break: break-word;
            font-variant-numeric: lining-nums;
            /* чтобы цифры были полноразмерными */
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* приводим любое соотношение к 16:9 контейнера */
            object-position: center;
            filter: grayscale(100%);
            transition: filter 0.5s, transform 0.7s;
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -webkit-user-drag: none;
            -webkit-touch-callout: none;
            pointer-events: none;
        }

        .project-card:hover .card-img {
            filter: grayscale(0%);
            transform: scale(1.02);
        }

        .project-btn {
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            transition: all 0.25s ease;
        }

        .project-btn:hover {
            border-color: #d1ff0f;
            color: #050505;
            background: #d1ff0f;
            box-shadow: 0 0 14px rgba(209, 255, 15, 0.35);
        }

        .card-img-wrap {
            position: relative;
            width: 100%;
            max-height: 90vh;
            aspect-ratio: 16 / 9;
            height: auto;
            cursor: pointer;
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -webkit-touch-callout: none;
        }

        /* === FIX: восстановленные селекторы после автогенерации === */
        .play-trigger {
            position: absolute;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
            z-index: 100;
        }

        .project-card:hover .play-trigger {
            display: flex;
        }

        .play-trigger.static {
            position: static;
            display: flex;
            justify-content: flex-start;
            margin-top: 16px;
        }

        .play-smash {
            position: relative;
            width: 120px;
            height: 120px;
            background: radial-gradient(circle at 30% 30%, rgba(209, 255, 15, 0.25), transparent 60%),
                radial-gradient(circle at 70% 60%, rgba(255, 255, 255, 0.28), transparent 65%),
                rgba(0, 0, 0, 0.55);
            border-radius: 38% 62% 44% 56% / 40% 36% 64% 60%;
            border: 2px solid rgba(255, 255, 255, 0.38);
            box-shadow: 0 0 28px rgba(255, 255, 255, 0.18), 0 0 52px rgba(209, 255, 15, 0.28);
            display: grid;
            place-items: center;
            transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
            cursor: pointer;
        }

        .play-smash:hover {
            transform: scale(1.05) rotate(-2deg);
            box-shadow: 0 0 44px rgba(209, 255, 15, 0.45);
            border-color: #d1ff0f;
        }

        .play-smash span {
            font-family: "IBM Plex Mono", monospace;
            letter-spacing: 0.2em;
            font-size: 12px;
            text-transform: uppercase;
            color: #fff;
        }

        .play-note {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: block;
            font-family: "Syne", sans-serif;
            font-weight: 800;
            font-size: clamp(1.4rem, 6vw, 5rem);
            color: #d1ff0f;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.25s ease;
            text-shadow: 0 0 18px rgba(209, 255, 15, 0.45);
            white-space: normal;
            /* Allow wrapping */
            width: 100%;
            /* Use full container width */
            padding: 0 10px;
            /* Safety padding */
            text-align: center;
            line-height: 1.0;
            z-index: 6;
        }

        .play-note.fullwidth {
            width: 100%;
        }

        .play-note.is-visible {
            opacity: 1;
        }

        .project-card::selection,
        .card-img-wrap::selection,
        .card-img::selection {
            background: transparent;
        }

        .info-trigger {
            position: absolute;
            left: 50%;
            bottom: 24px;
            transform: translateX(-50%);
            padding: 10px 16px;
            font-family: "IBM Plex Mono", monospace;
            font-size: 11px;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            background: rgba(0, 0, 0, 0.35);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            cursor: pointer;
            transition: all 0.25s ease;
            z-index: 5;
        }

        .info-trigger:hover {
            border-color: #d1ff0f;
            color: #050505;
            background: #d1ff0f;
            box-shadow: 0 0 14px rgba(209, 255, 15, 0.35);
        }

        .card-info-panel {
            position: absolute;
            top: 0;
            left: 0;
            width: min(480px, 80vw);
            height: 100%;
            background: rgba(5, 5, 5, 0.94);
            border-right: 1px solid rgba(255, 255, 255, 0.08);
            padding: 28px 28px 64px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transform: translateX(-105%);
            transition: transform 0.35s ease, box-shadow 0.3s ease;
            z-index: 8;
        }

        /* Play button inside info panel */
        /* Play button inside info panel (одна, внизу) */
        .card-info-panel .play-trigger {
            display: none;
        }

        .card-info-panel>.play-trigger:last-child {
            position: relative;
            display: flex;
            justify-content: center;
            margin-top: 80px;
            transform: translateY(-60px);
            align-self: center;
            padding: 10px;
            border-radius: 999px;
            pointer-events: auto;
            z-index: 10;
        }

        @media (min-height: 900px) {
            .card-info-panel>.play-trigger:last-child {
                margin-top: 140px;
                transform: translateY(-120px);
            }
        }

        @media (min-height: 1100px) {
            .card-info-panel>.play-trigger:last-child {
                margin-top: 180px;
                transform: translateY(-160px);
            }
        }

        @media (min-width: 1400px) {
            .card-info-panel>.play-trigger:last-child {
                margin-top: 200px;
                transform: translateY(-180px);
            }
        }

        @media (min-width: 1800px) {
            .card-info-panel>.play-trigger:last-child {
                margin-top: 240px;
                transform: translateY(-220px);
            }
        }

        .card-info-panel .play-smash {
            position: relative;
            width: 96px;
            height: 96px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.45);
            background: rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 22px rgba(255, 255, 255, 0.18);
            display: grid;
            place-items: center;
            transition: transform 0.22s ease, box-shadow 0.22s ease, border-color 0.22s ease, background 0.22s ease;
            cursor: pointer;
            pointer-events: auto;
        }

        .play-smash:hover {
            transform: scale(1.08);
            box-shadow: 0 0 34px rgba(209, 255, 15, 0.55);
            border-color: #d1ff0f;
            background: rgba(0, 0, 0, 0.55);
        }

        .play-smash span {
            font-family: "IBM Plex Mono", monospace;
            letter-spacing: 0.16em;
            font-size: 12px;
            text-transform: uppercase;
            color: #fff;
        }

        .info-close {
            align-self: flex-end;
            margin-bottom: 16px;
            padding: 6px 10px;
            font-family: "IBM Plex Mono", monospace;
            font-size: 10px;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            background: transparent;
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #ffffff;
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .info-close:hover {
            border-color: #d1ff0f;
            color: #050505;
            background: #d1ff0f;
        }

        .info-shade {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.35);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.25s ease;
            z-index: 4;
        }

        .info-open .info-shade {
            opacity: 1;
            pointer-events: auto;
        }

        .info-open .card-info-panel {
            transform: translateX(0);
            box-shadow: 12px 0 28px rgba(0, 0, 0, 0.45);
        }

        /* 5. ЭКРАН ДЕТАЛЕЙ (С кнопкой закрытия) */
        #project-detail {
            position: fixed;
            inset: 0;
            background: #050505;
            z-index: 9999;
            transform: translateY(100%);
            /* Спрятан внизу */
            display: none;

            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        /* Кнопка закрытия */
        .close-btn {
            position: absolute;
            top: 40px;
            right: 40px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 14px;
            text-transform: uppercase;
            cursor: pointer;
            padding: 10px 20px;
            border: 1px solid #ffffff;
            transition: all 0.2s ease;
            color: #ffffff;
            background: transparent;
        }

        .close-btn:hover,
        .close-btn:focus {
            background: #d1ff0f !important;
            color: #050505 !important;
            border-color: #d1ff0f !important;
            box-shadow: 0 0 16px rgba(209, 255, 15, 0.6);
            outline: none;
        }

        .teaser-close {
            position: absolute !important;
            top: 8px !important;
            left: 50% !important;
            transform: translateX(-50%) !important;
            right: auto !important;
            bottom: auto !important;
            width: 140px;
            text-align: center;
            z-index: 12010;
        }

        /* Кнопка звука */
        .sound-btn {
            position: fixed;
            bottom: 22px;
            right: 40px;
            z-index: 50;
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 10px;
            font-family: 'IBM Plex Mono';
            transition: all 0.3s;
        }

        .sound-btn:hover {
            background: white;
            color: black;
            border-color: white;
        }

        .sound-waves {
            display: none;
        }

        .playing .sound-waves {
            display: block;
        }

        .playing .sound-off {
            display: none;
        }

        /* ART EYE (bottom-left) */
        .art-eye {
            position: fixed !important;
            left: 10px !important;
            right: auto !important;
            top: auto !important;
            bottom: -6px !important;
            width: 240px !important;
            height: 190px !important;
            z-index: 50;
            pointer-events: auto;
            cursor: none !important;
            mix-blend-mode: normal;
            transform: translate3d(0, 0, 0) rotate(-3deg) !important;
            will-change: transform;
        }

        .art-eye svg {
            width: 100%;
            height: 100%;
            transform: none;
        }

        .art-eye .eye-lid {
            transition: transform 0.15s ease-in-out;
            opacity: 1;
        }

        .art-eye .lid-top {
            transform: translateY(-115%);
        }

        .art-eye .lid-bot {
            transform: translateY(115%);
        }

        .art-eye.eye-closed .lid-top {
            transform: translateY(0%);
        }

        .art-eye.eye-closed .lid-bot {
            transform: translateY(0%);
        }

        .art-eye.eye-closed #eye-iris-group {
            opacity: 0;
        }

        /* MOBILE ADJUSTMENTS */
        /* MOBILE ADJUSTMENTS */
        @media (max-width: 768px) {

            /* 1. Resize Eye on Mobile */
            .art-eye {
                width: 120px !important;
                height: 90px !important;
                bottom: 20px !important;
                left: -10px !important;
                transform: translate3d(0, 0, 0) rotate(-3deg) scale(0.8) !important;
            }

            /* 2. CARD LAYOUT: ZERO GAP + 16/9 UNIFORM */
            .stack-area {
                display: flex !important;
                flex-direction: column !important;
                gap: 0px !important;
                padding-bottom: 50px !important;
            }

            .project-card {
                position: relative !important;
                top: auto !important;
                min-height: auto !important;
                margin-bottom: 0 !important;
                height: auto !important;
                background: #050505 !important;
                border: none !important;
                padding: 0 !important;
                width: 100% !important;
            }

            .card-img-wrap {
                position: relative !important;
                width: 100% !important;
                height: auto !important;
                aspect-ratio: 16 / 9 !important;
                /* REQUEST: Force 16:9 */
                max-height: none !important;
                margin: 0 !important;
                display: block !important;
            }

            .card-img {
                position: absolute !important;
                /* Absolute to fill the 16/9 wrapper */
                top: 0;
                left: 0;
                width: 100% !important;
                height: 100% !important;
                object-fit: cover !important;
                /* REQUEST: Uniform fill */
                filter: grayscale(0%) !important;
                display: block !important;
            }

            /* 3. HERO: Responsive Text that FITS */
            .hero-title {
                font-size: 13vw !important;
                line-height: 0.9 !important;
                width: 100% !important;
                padding: 0 5px !important;
                white-space: normal !important;
                text-align: center !important;
            }

            .hero-title br {
                display: block !important;
            }

            .hero-title span {
                white-space: normal !important;
                display: inline-block !important;
            }

            /* 4. INFO PANEL: FULL SCREEN ON MOBILE (User Request Round 7) */
            .card-info-panel {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                width: 100vw !important;
                height: 100vh !important;
                z-index: 12000 !important;
                /* Above everything */
                padding: 40px 20px !important;
                /* More padding */
                background: #050505 !important;
                /* Slide in from LEFT */
                transform: translateX(-100%) !important;
                transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1) !important;
                overflow-y: auto !important;
                clip-path: none !important;
            }

            /* FIXED SELECTOR: Class is on PARENT card */
            .project-card.info-open .card-info-panel {
                transform: translateX(0) !important;
                /* Slide in to view */
            }

            /* Compact Info Text for Mobile Card Overlay */
            .card-info-panel .project-title {
                font-size: 1.8rem !important;
                margin-bottom: 10px !important;
            }

            .card-info-panel p {
                font-size: 10px !important;
            }

            /* 5. Button Visibility */
            /* "Play" button is inside panel */
            .card-info-panel .play-trigger {
                display: block !important;
                margin-top: 10px;
                position: relative;
                transform: none;
                opacity: 1;
            }

            /* The "Open Info" trigger button on the main feed */
            /* The "Open Info" trigger button on the main feed */
            .info-trigger {
                background: rgba(0, 0, 0, 0.6);
                border: 1px solid rgba(255, 255, 255, 0.6);
                bottom: 10px;
                left: 50% !important;
                transform: translateX(-50%) !important;
                font-size: 10px !important;
                padding: 6px 14px !important;
                z-index: 10 !important;
            }

            /* 6. REDUCE ASTEROID GLOW ON MOBILE */
            .asteroid-img {
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.15)) !important;
                animation: asteroidFloat 3.2s ease-in-out infinite !important;
                /* No flicker animation */
            }

            .asteroid-btn.is-exploding .asteroid-img {
                filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3)) !important;
            }
        }

        /* Global overflow fix & Swipe Lock */
        body,
        html {
            overflow-x: hidden;
            width: 100%;
            overscroll-behavior-x: none;
            /* Prevent browser history swipe */
            touch-action: pan-y;
            /* Allow vertical scroll, block horizontal default actions */
        }

        /* Allow horizontal swipe ONLY on specific trigger areas (handled by JS) */
        .card-img-wrap,
        .card-info-panel {
            touch-action: pan-y pinch-zoom;
            /* Consistent with global, JS handles horizontal custom logic */
        }

        @keyframes eyePulse {

            0%,
            100% {
                opacity: 0.55;
                transform: scale(1);
            }

            50% {
                opacity: 0.9;
                transform: scale(1.08);
            }
        }


        .intro-overlay {
            position: fixed;
            inset: 0;
            z-index: 100000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: #050505;
            backdrop-filter: blur(6px);
            pointer-events: auto;
            cursor: none !important;
            touch-action: none;
            height: 100svh;
        }

        body.is-locked {
            overflow: hidden !important;
            height: 100svh !important;
            width: 100%;
            overscroll-behavior: none;
        }

        /* Hide background content during into to avoid glitches */
        body.is-locked header,
        body.is-locked .start-section,
        body.is-locked footer,
        body.is-locked nav {
            visibility: hidden !important;
        }

        body.is-locked,
        body.is-locked * {
            cursor: none !important;
        }

        .explosion-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .intro-overlay.is-hidden {
            opacity: 0;
            transition: opacity 0.55s ease;
            pointer-events: none;
        }

        .asteroid-btn {
            position: relative;
            width: min(420px, 70vw);
            aspect-ratio: 1 / 1;
            border: none;
            background: transparent;
            cursor: pointer;
            padding: 0;
            outline: none;
            position: relative;
            z-index: 2;
            animation: asteroidDrift 9s ease-in-out infinite;
        }

        .asteroid-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter:
                drop-shadow(0 0 26px rgba(255, 255, 255, 0.20)) drop-shadow(0 0 80px rgba(140, 120, 255, 0.20));
            animation: asteroidFloat 3.2s ease-in-out infinite, asteroidFlicker 5s ease-in-out infinite;
            transform-origin: center;
            will-change: transform, filter;
            transition: transform 0.35s ease, opacity 0.35s ease, filter 0.35s ease;
        }

        .asteroid-text {
            display: none;
            /* текст скрыт, чтобы не дублировать надпись на изображении */
        }

        .asteroid-btn.is-exploding .asteroid-img {
            animation: none;
            transform: scale(1.03) rotate(1deg);
            filter:
                drop-shadow(0 0 44px rgba(255, 255, 255, 0.35)) drop-shadow(0 0 140px rgba(140, 120, 255, 0.35));
        }

        .asteroid-btn.is-fading .asteroid-img {
            opacity: 0;
            transform: scale(1.08) rotate(2deg);
            filter:
                drop-shadow(0 0 20px rgba(255, 255, 255, 0.12)) drop-shadow(0 0 60px rgba(140, 120, 255, 0.18));
        }

        .asteroid-btn.is-exploding .asteroid-cracks {
            opacity: 0.9;
        }

        .asteroid-btn.is-fading .asteroid-cracks {
            opacity: 0;
        }

        @keyframes asteroidFloat {
            0% {
                transform: translateY(0px) rotate(-1deg);
            }

            50% {
                transform: translateY(-10px) rotate(1deg);
            }

            100% {
                transform: translateY(0px) rotate(-1deg);
            }
        }

        @keyframes asteroidDrift {
            0% {
                transform: translate(0px, 0px) rotate(0deg);
            }

            20% {
                transform: translate(4px, -3px) rotate(0.4deg);
            }

            40% {
                transform: translate(-5px, 5px) rotate(-0.6deg);
            }

            60% {
                transform: translate(6px, 2px) rotate(0.8deg);
            }

            80% {
                transform: translate(-3px, -4px) rotate(-0.3deg);
            }

            100% {
                transform: translate(0px, 0px) rotate(0deg);
            }
        }

        @keyframes asteroidFlicker {

            0%,
            12%,
            100% {
                filter: drop-shadow(0 0 26px rgba(255, 255, 255, 0.20)) drop-shadow(0 0 80px rgba(140, 120, 255, 0.20));
            }

            5% {
                filter: drop-shadow(0 0 46px rgba(255, 255, 255, 0.36)) drop-shadow(0 0 140px rgba(140, 120, 255, 0.32));
            }

            32% {
                filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.22)) drop-shadow(0 0 90px rgba(140, 120, 255, 0.22));
            }

            48% {
                filter: drop-shadow(0 0 52px rgba(255, 255, 255, 0.40)) drop-shadow(0 0 150px rgba(140, 120, 255, 0.38));
            }

            73% {
                filter: drop-shadow(0 0 24px rgba(255, 255, 255, 0.18)) drop-shadow(0 0 70px rgba(140, 120, 255, 0.18));
            }
        }

        /* FILTERING LOGIC (Round 7) */
        /* Initially hidden */
        #film,
        /* Now refers to the CONTAINER of films/tv */
        #commercials,
        #tvshows,
        #mv,
        #other,
        #contact {
            display: none !important;
        }

        /* Show specific sections based on body class */
        body.view-commercials #commercials {
            display: block !important;
        }

        /* FILMS / TV: Show Feature Films (wrapper) */
        body.view-films #film {
            display: block !important;
        }

        /* TV SHOWS Only */
        body.view-tvshows #tvshows {
            display: block !important;
        }

        /* MV Only */
        body.view-mv #mv {
            display: block !important;
        }

        /* BIO Only */
        body.view-bio #other {
            display: block !important;
        }

        /* CONTACT Only */
        body.view-contact #contact {
            display: block !important;
        }

        /* Mobile: Hide particles in project sections */
        @media (max-width: 768px) {

            /* HIDE START PAGE ELEMENTS IN SECTIONS (Mobile Only) */
            /* Header is VISIBLE for navigation -> NO, User wants to hide Title (in Header). Nav is separate. */
            body.view-films .start-section,
            body.view-commercials .start-section,
            body.view-tvshows .start-section,
            body.view-mv .start-section,
            body.view-bio .start-section,
            body.view-contact .start-section,
            body.view-films #intro-overlay,
            body.view-commercials #intro-overlay,
            body.view-tvshows #intro-overlay,
            body.view-mv #intro-overlay,
            body.view-bio #intro-overlay,
            body.view-contact #intro-overlay,
            /* Also hide HEADER (Title) but keep NAV (Menu) */
            body.view-films header,
            body.view-commercials header,
            body.view-tvshows header,
            body.view-mv header,
            body.view-bio header,
            body.view-contact header {
                display: none !important;
            }
        }

        /* Mobile Back Button Styles & Alignment */
        @media (max-width: 768px) {

            /* Increase specificity to override block !important from line 1437 */
            .card-info-panel .play-trigger {
                display: flex !important;
                justify-content: center;
                /* keep Play button in flow center */
                align-items: flex-end;
                position: relative;
                /* Anchor for absolute Back button */
                width: 100%;
                margin-top: 10px;
            }

            .play-back-btn {
                width: 44px;
                /* Slightly larger to fit text */
                height: 44px;
                border: 1px solid rgba(255, 255, 255, 0.4);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #fff;
                cursor: pointer;
                transition: all 0.3s ease;

                /* Absolute Position: Right of center */
                position: absolute;
                left: 50%;
                margin-left: 70px;
                /* 60px (half play width) + 10px gap */
                bottom: 0px;
                /* Align with bottom of Play button */

                /* Font Styles */
                font-size: 10px;
                letter-spacing: 0.5px;
                text-transform: uppercase;
                background: #000;
                /* Ensure visibility over overlap */
            }

            /* Header Overlap Fix: Reduced Gap */
            .project-card {
                scroll-margin-top: 90px !important;
            }

            /* Header Overlap Fix: Uniform spacing for ALL project sections on mobile */
            #film,
            #commercials,
            #tvshows,
            #mv {
                padding-top: var(--header-height, 70px) !important;
                /* Dynamic padding + fallback */
            }
        }

        .play-back-btn:hover {
            background: #d1ff0f;
            color: #050505;
            font-weight: bold;
        }

        /* DK Logo Animation on Click (Mobile) */
        .dk-mobile-active {
            color: #d1ff0f !important;
            animation: dkShake 0.4s ease-in-out;
        }

        @media (min-width: 769px) {
            .play-back-btn {
                display: none !important;
            }
        }

        /* Re-added keyframes for DK Glitch effect */
        @keyframes dkShake {
            0% {
                transform: translate(0);
            }

            20% {
                transform: translate(-2px, 2px);
            }

            40% {
                transform: translate(-2px, -2px);
            }

            60% {
                transform: translate(2px, 2px);
            }

            80% {
                transform: translate(2px, -2px);
            }

            100% {
                transform: translate(0);
            }
        }

        .nav-click-anim {
            color: #d1ff0f !important;
            animation: dkShake 0.4s ease-in-out forwards;
        }

        @keyframes phoneVibrate {
            0% {
                transform: translate(0);
            }

            20% {
                transform: translate(-0.5px, 0.5px) rotate(-0.3deg);
            }

            40% {
                transform: translate(-0.5px, -0.5px) rotate(0.3deg);
            }

            60% {
                transform: translate(0.5px, 0.5px) rotate(0deg);
            }

            80% {
                transform: translate(0.5px, -0.5px) rotate(0.3deg);
            }

            100% {
                transform: translate(0);
            }
        }

        @keyframes planeFly {
            0% {
                transform: translate(0, 0) rotate(0deg);
            }

            50% {
                transform: translate(3px, -3px) rotate(-5deg);
            }

            100% {
                transform: translate(0, 0) rotate(0deg);
            }
        }

        @keyframes recBlink {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .rec-dot {
            width: 5px;
            height: 5px;
            background-color: #d1ff0f;
            border-radius: 50%;
            position: absolute;
            top: 22px;
            /* Roughly aligned with DK baseline or mid */
            left: 50px;
            /* Right of "DK" */
            animation: recBlink 1.5s infinite;
            pointer-events: none;
        }

        /* Hide dot when subtitle is green (active) */
        .nav-subtitle.accent-yg~.rec-dot {
            display: none !important;
        }

        /* Active Classes */
        .icon-active-green {
            color: #d1ff0f !important;
            transition: color 0.5s ease;
        }

        .anim-phone {
            /* 0.25s * 20 = 5s. Intense buzz. */
            animation: phoneVibrate 0.25s infinite linear !important;
        }

        .anim-plane {
            /* 2.5s * 2 = 5s. Ends perfectly at 0 */
            animation: planeFly 2.5s infinite ease-in-out !important;
        }

        /* Mobile Hero Title Reduction */
        @media (max-width: 768px) {
            #hero-title {
                font-size: 9.5vw !important;
                line-height: 1.0 !important;
            }

            #hero-title span {
                white-space: nowrap !important;
            }
        }
    </style>
</head>

<body class="antialiased view-intro" style="cursor:none">

    <div id="preloader" aria-hidden="true">
        <canvas id="preloader-canvas"></canvas>
    </div>

    <!-- ACID WAVE PRELOADER REMOVED -->

    <!-- АУДИО ПЛЕЕР -->
    <audio id="bg-music" loop preload="auto">
        <source src="assets/music.mp3" type="audio/mpeg">
    </audio>

    <div class="cursor-dot"></div>

    <!-- КНОПКА ЗВУКА -->
    <div class="sound-btn" onclick="toggleAudio()">
        <span class="sound-off">OFF</span>
        <span class="sound-waves">ON</span>
    </div>

    <!-- ART EYE -->
    <div class="art-eye" aria-hidden="true">
        <svg viewBox="0 0 260 190" fill="none">
            <defs>
                <clipPath id="irisClip">
                    <circle cx="150" cy="120" r="22" />
                </clipPath>
                <clipPath id="scleraClip" clipPathUnits="userSpaceOnUse">
                    <path d="M46 104 Q130 32 218 110 Q146 178 46 104 Z" />
                </clipPath>
                <clipPath id="outerClip" clipPathUnits="userSpaceOnUse">
                    <path d="M34 102 Q130 18 230 108 Q146 194 34 102 Z" />
                </clipPath>
            </defs>
            <!-- magenta lower accent -->
            <path d="M34 102 Q130 18 230 108 Q146 194 34 102 Z" fill="#ff00a2" transform="translate(6 10)" />
            <!-- outline -->
            <path d="M34 102 Q130 18 230 108 Q146 194 34 102 Z" fill="#0a0a0a" stroke="#000" stroke-width="6"
                stroke-linejoin="round" />
            <!-- sclera -->
            <path id="eye-sclera" d="M46 104 Q130 32 218 110 Q146 178 46 104 Z" fill="#fdfdfd" stroke="#0a0a0a"
                stroke-width="4" />
            <!-- lashes (thin, black like ref) -->
            <g stroke="#0a0a0a" stroke-width="4" stroke-linecap="round">
                <path d="M90 66 L80 38" />
                <path d="M116 54 L110 26" />
                <path d="M142 52 L144 24" />
                <path d="M168 60 L180 34" />
                <path d="M78 78 L62 52" />
                <path d="M190 78 L208 52" />
            </g>
            <!-- iris + pupil group -->
            <g clip-path="url(#scleraClip)" style="clip-path:url(#scleraClip);">
                <g id="eye-iris-group">
                    <image href="assets/BCF894F9-E3BD-439E-A4F6-A68FD3CB62C2.png" x="118" y="88" width="64" height="64"
                        clip-path="url(#irisClip)" preserveAspectRatio="xMidYMid slice" />
                </g>
            </g>
            <!-- clipped eyelid group -->
            <g clip-path="url(#outerClip)" style="clip-path:url(#outerClip);">
                <!-- top eyelid for closing -->
                <path class="eye-lid lid-top" d="M34 102 Q130 18 230 108 Q130 108 34 102 Z" fill="#050505" />
                <!-- bottom eyelid for closing -->
                <path class="eye-lid lid-bot" d="M34 102 Q130 18 230 108 Q146 194 34 102 Z" fill="#050505" />
            </g>
        </svg>
    </div>

    <!-- ФОН -->
    <!-- ФОН -->
    <canvas id="particle-canvas" style="position: fixed; inset: 0; pointer-events: none; z-index: 0;"></canvas>

    <!-- INTRO OVERLAY (entry screen) -->
    <div id="intro-overlay" class="intro-overlay">
        <canvas id="explosion-canvas" class="explosion-canvas"></canvas>
        <button id="asteroid-btn" class="asteroid-btn" type="button" aria-label="Enter site">
            <img src="assets/asteroid.png" alt="Glowing asteroid" class="asteroid-img">
            <span class="asteroid-text">TOUCH ME</span>
        </button>
    </div>


    <!-- МЕНЮ / TOP BAR -->
    <nav class="fixed top-0 w-full z-50 text-white">
        <div
            class="backdrop-blur-sm bg-black/40 border-b border-white/10 px-6 md:px-12 py-4 flex items-center justify-between gap-6">
            <button id="home-link" type="button"
                class="flex flex-col leading-tight text-left focus:outline-none relative" style="z-index: 51;">
                <span class="font-display font-bold text-3xl tracking-tighter">DK</span>
                <span class="font-tech text-[10px] uppercase tracking-[0.2em] text-gray-300 nav-subtitle">Production
                    Designer</span>
                <span class="rec-dot"></span>
            </button>

            <!-- DESKTOP MENU -->
            <div class="hidden md:flex items-center gap-8 font-tech text-xs uppercase tracking-[0.2em]">
                <a href="#film" class="nav-link nav-link-films">Films/TV</a>
                <a href="#commercials" class="nav-link nav-link-commercials">Commercials</a>
                <a href="#tvshows" class="nav-link">TV Shows</a>
                <a href="#mv" class="nav-link">MV</a>
                <a href="#other" class="nav-link">Bio</a>
                <a href="#contact" class="nav-link">Contact</a>
            </div>

            <!-- MOBILE ICONS (Call & Telegram) -->
            <div class="md:hidden flex items-center gap-5 mr-1" style="margin-right: -8px;">
                <a href="tel:+79250167291" class="text-white hover:text-[#d1ff0f]" aria-label="Call">
                    <svg width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.8"
                        viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                    </svg>
                </a>
                <a href="https://t.me/DK_production_designer" target="_blank" class="text-white hover:text-[#d1ff0f]"
                    aria-label="Telegram">
                    <svg width="22" height="22" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M21.54 4.06c-.21-.17-.51-.19-.76-.07L3.3 11.63c-.49.22-.48.95.02 1.15l4.02 1.6 1.56 4.9c.19.6.94.77 1.35.32l2.7-2.94 4.62 3.41c.62.46 1.52.12 1.68-.62l2.4-14.06c.06-.33-.05-.66-.29-.86ZM9.4 13.92l-3.1-1.24 11.2-4.99-7.03 6.23c-.14.12-.2.32-.13.5l1.12 3.52-2.07-3.26Z" />
                    </svg>
                </a>
            </div>

            <!-- MOBILE HAMBURGER BUTTON -->
            <button id="mobile-menu-btn"
                class="md:hidden relative w-8 h-6 flex flex-col justify-between z-50 focus:outline-none text-white overflow-hidden transition-colors duration-300">
                <span class="burger-line w-full h-[2px] bg-white transition-all duration-300 origin-left"></span>
                <span class="burger-line w-full h-[2px] bg-white transition-all duration-300"></span>
                <span class="burger-line w-full h-[2px] bg-white transition-all duration-300 origin-left"></span>
            </button>

            <style>
                #mobile-menu-btn.is-active .burger-line {
                    background-color: #d1ff0f !important;
                }
            </style>

            <div class="flex items-center gap-3 text-[11px] font-tech md:flex hidden">
                <a href="https://www.instagram.com/ai_pustotaaa/" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center justify-center w-9 h-9 border border-white/30 rounded-full top-icon"
                    aria-label="Instagram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"
                        stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="18" height="18" rx="5"></rect>
                        <circle cx="12" cy="12" r="4"></circle>
                        <circle cx="17.5" cy="6.5" r="0.8"></circle>
                    </svg>
                </a>
                <a href="https://t.me/DK_production_designer" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center justify-center w-9 h-9 border border-white/30 rounded-full top-icon"
                    aria-label="Telegram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path
                            d="M21.54 4.06c-.21-.17-.51-.19-.76-.07L3.3 11.63c-.49.22-.48.95.02 1.15l4.02 1.6 1.56 4.9c.19.6.94.77 1.35.32l2.7-2.94 4.62 3.41c.62.46 1.52.12 1.68-.62l2.4-14.06c.06-.33-.05-.66-.29-.86ZM9.4 13.92l-3.1-1.24 11.2-4.99-7.03 6.23c-.14.12-.2.32-.13.5l1.12 3.52-2.07-3.26Z" />
                    </svg>
                </a>
                <a href="https://www.kinopoisk.ru/name/10244976/" target="_blank" rel="noopener noreferrer"
                    class="inline-flex items-center justify-center w-9 h-9 border border-white/30 rounded-full top-icon overflow-hidden bg-transparent"
                    aria-label="Кинопоиск">
                    <img src="assets/461BE329-7D21-45FA-A77C-A8FCC22A2C3D.png" alt="Кинопоиск" class="social-icon">
                </a>
                <a href="mailto:KULICHPATRIOTS@GMAIL.COM"
                    class="inline-flex items-center justify-center w-9 h-9 border border-white/30 rounded-full top-icon"
                    aria-label="Email">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6"
                        stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="5" width="18" height="14" rx="2"></rect>
                        <path d="M3 7l9 6 9-6"></path>
                    </svg>
                </a>
            </div>
        </div>
    </nav>

    <!-- MOBILE MENU OVERLAY -->
    <div id="mobile-menu-overlay"
        class="fixed inset-0 bg-[#050505] z-40 flex flex-col justify-center items-center opacity-0 pointer-events-none transition-opacity duration-300">
        <div class="flex flex-col gap-8 text-center font-display text-3xl uppercase tracking-tighter">
            <a href="#film" class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">Films/TV</a>
            <a href="#commercials"
                class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">Commercials</a>
            <a href="#tvshows" class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">TV
                Shows</a>
            <a href="#mv" class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">Music Video</a>
            <a href="#other" class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">Bio</a>
            <a href="#contact" class="mobile-nav-link text-white hover:text-[#d1ff0f] transition-colors">Contact</a>
        </div>

        <!-- Socials in Mobile Menu (Glowing Buttons - Small) -->
        <div class="absolute w-full flex justify-center items-center gap-5" style="bottom: 24px;">
            <!-- INSTAGRAM -->
            <a href="https://www.instagram.com/ai_pustotaaa/" target="_blank"
                class="w-9 h-9 rounded-full border border-[#d1ff0f] flex items-center justify-center text-[#d1ff0f] hover:bg-[#d1ff0f] hover:text-black transition-all duration-300"
                style="box-shadow: 0 0 8px rgba(209, 255, 15, 0.3);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="3" width="18" height="18" rx="5"></rect>
                    <circle cx="12" cy="12" r="4"></circle>
                    <circle cx="17.5" cy="6.5" r="0.8"></circle>
                </svg>
            </a>

            <!-- KINOPOISK -->
            <a href="https://www.kinopoisk.ru/name/10244976/" target="_blank"
                class="w-9 h-9 rounded-full border border-[#d1ff0f] flex items-center justify-center overflow-hidden hover:bg-[#d1ff0f] transition-all duration-300 group"
                style="box-shadow: 0 0 8px rgba(209, 255, 15, 0.3);">
                <!-- CSS MASK SOLUTION (Stable on iOS) -->
                <!-- We use a div with background-color and the image as a mask. 
                     This allows robust coloring without relying on filter:drop-shadow hack. -->
                <!-- Drop-shadow hack (Restored with JS fix for iOS) -->
                <!-- ID added for JS repainting -->
                <img id="kinopoisk-icon" src="assets/461BE329-7D21-45FA-A77C-A8FCC22A2C3D.png" alt="Kinopoisk"
                    class="group-hover:hidden" style="
                        width: 52px; 
                        height: 52px; 
                        max-width: none;
                        object-fit: contain;
                        filter: drop-shadow(52px 0 0 #d1ff0f);
                        transform: translateX(-52px);
                        flex-shrink: 0;
                        will-change: filter; 
                    ">
                <!-- Hover State -->
                <img src="assets/461BE329-7D21-45FA-A77C-A8FCC22A2C3D.png" alt="Kinopoisk"
                    class="hidden group-hover:block" style="
                        width: 52px; 
                        height: 52px; 
                        max-width: none;
                        object-fit: contain;
                        filter: brightness(0); 
                        flex-shrink: 0;
                    ">
            </a>

            <!-- EMAIL -->
            <a href="mailto:KULICHPATRIOTS@GMAIL.COM"
                class="w-9 h-9 rounded-full border border-[#d1ff0f] flex items-center justify-center text-[#d1ff0f] hover:bg-[#d1ff0f] hover:text-black transition-all duration-300"
                style="box-shadow: 0 0 8px rgba(209, 255, 15, 0.3);">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="5" width="18" height="14" rx="2"></rect>
                    <path d="M3 7l9 6 9-6"></path>
                </svg>
            </a>
        </div>
    </div>

    <script>
        // MOBILE MENU LOGIC
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
        const burgerLines = document.querySelectorAll('.burger-line');
        let isMobileMenuOpen = false;

        const toggleMobileMenu = () => {
            isMobileMenuOpen = !isMobileMenuOpen;

            if (isMobileMenuOpen) {
                // Open Menu
                mobileMenuBtn.classList.add('is-active'); // Add active class
                mobileMenuOverlay.classList.remove('opacity-0', 'pointer-events-none');
                mobileMenuOverlay.classList.add('opacity-100', 'pointer-events-auto');
                document.body.style.overflow = 'hidden'; // Lock scroll

                // Animate Burger to X
                burgerLines[0].style.transform = 'rotate(45deg) translate(5px, 6px)';
                burgerLines[1].style.opacity = '0';
                burgerLines[2].style.transform = 'rotate(-45deg) translate(5px, -6px)';
            } else {
                // Close Menu
                mobileMenuBtn.classList.remove('is-active'); // Remove active class
                mobileMenuOverlay.classList.remove('opacity-100', 'pointer-events-auto');
                mobileMenuOverlay.classList.add('opacity-0', 'pointer-events-none');
                document.body.style.overflow = ''; // Unlock scroll

                // Animate X back to Burger
                burgerLines[0].style.transform = 'none';
                burgerLines[1].style.opacity = '1';
                burgerLines[2].style.transform = 'none';
            }
        };

        mobileMenuBtn.addEventListener('click', toggleMobileMenu);

        // Close menu when clicking a link
        // Close menu when clicking a link
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault(); // Handle manually
                const href = link.getAttribute('href');
                if (isMobileMenuOpen) toggleMobileMenu();

                // Trigger View Logic
                if (href === '#film') setView('view-films', 'film');
                if (href === '#commercials') setView('view-commercials', 'commercials');
                if (href === '#tvshows') setView('view-tvshows', 'tvshows');
                if (href === '#mv') setView('view-mv', 'mv');
                if (href === '#other') {
                    playBioAnimation();
                    setView('view-bio', 'other');
                }
                if (href === '#contact') {
                    setView('view-contact', 'contact');
                    startContactVideo();
                }
            });
        });

        // INJECT MOBILE BACK BUTTONS
        document.querySelectorAll('.play-trigger').forEach(trigger => {
            // Check if already exists
            if (trigger.querySelector('.play-back-btn')) return;

            const backBtn = document.createElement('div');
            backBtn.className = 'play-back-btn';
            backBtn.innerHTML = '<span style="pointer-events:none; font-size: 24px;">×</span>';
            trigger.appendChild(backBtn);

            // Back Action
            backBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                closeProject(); // Uses existing close logic
            });
        });
    </script>

    <!-- HERO SECTION -->
    <header class="min-h-[100svh] flex flex-col justify-center items-center relative z-10 px-4">
        <div class="text-center w-full max-w-7xl hero-tilt pointer-events-auto">
            <!-- Исправленный заголовок -->
            <h1 id="hero-title" class="hero-title font-display font-black text-white">
                <span>SCULPTING</span><br>
                <span>REALITY</span>
            </h1>
        </div>

    </header>

    <!-- ПРОЕКТЫ -->
    <!-- DEFAULT HIDDEN: Only shown when a view class (.view-films, etc) is active -->
    <section class="stack-area stack-main relative z-10 px-0 md:px-0" style="display: none;">

        <!-- NARRATIVE WORKS CONTAINER (Films & TV) -->
        <!-- Used for filtering: When "Films/TV" is active, this whole block is shown. -->
        <section id="film" class="stack-container">

            <!-- 1. FEATURE FILM -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/1163ba1d-5eff-4c06-a98c-09c5c009236a.png" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                FILM</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">НЕ
                                ИСКУСТВЕННЫЙ<br>ИНТЕЛЛЕКТ
                            </h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">RED STAR FILMS</span></p>
                                <p>GENRE: <span class="text-white">SCI-FI, COMEDY, ADVENTURE</span></p>
                                <p>DIRECTOR: <span class="text-white">ALEXEY CHADOV</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">KONSTANTIN PANASYUK</span></p>
                                <p>ROLE: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vk.com/video_ext.php?oid=-69606939&id=456239545&hd=2&autoplay=1">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- 2. ADVERTISING -->
            <div id="advertising" class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/children_xx.png" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                DOCUMENTARY SERIES</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">ДЕТИ ХХ ВЕКА</h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">АССОЦИАЦИЯ НАШЕ КИНО</span></p>
                                <p>GENRE: <span class="text-white">DOCUMENTARY, DRAMA</span></p>
                                <p>DIRECTOR: <span class="text-white">ANTON CHERKASOV</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">SERGEY DYACHKOV</span></p>
                                <p>ROLE: <span class="text-white">PRODUCTION DESIGNER</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vk.com/video_ext.php?oid=-194960286&id=456239043&hd=2">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FILM: ПЕРЕМКНУЛО -->
            <div class="project-card group relative">
                <div class="card-img-wrap play-note-full">
                    <img src="assets/peremknulo.png" class="card-img">
                    <div class="play-note fullwidth">awaiting release</div>
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                FILM</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">ПЕРЕМКНУЛО</h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">СТУДИЯ ВИДЕОПРОКАТ</span></p>
                                <p>GENRE: <span class="text-white">CAMEDY</span></p>
                                <p>DIRECTOR: <span class="text-white">Ivan Dobronravov</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">Artyom Gordeichik</span></p>
                                <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash" data-teaser="" data-note="awaiting release"><span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- FILM 3 -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/solovey.jpg" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                FILM</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">Соловей против
                                Муромца
                            </h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">КАРГО</span></p>
                                <p>GENRE: <span class="text-white">ADVENTURE, FANTASY</span></p>
                                <p>DIRECTOR: <span class="text-white">KAREN OGANESYAN</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">NIKOLAY BOGACHEV</span></p>
                                <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vkvideo.ru/video_ext.php?oid=-115478776&id=456247184&hd=2">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FILM 4 -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/series4.jpg" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                SERIES</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">НЕВЕРНЫЕ</h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">СТУДИЯ ВИДЕОПРОКАТ</span></p>
                                <p>GENRE: <span class="text-white">DRAMA</span></p>
                                <p>DIRECTOR: <span class="text-white">ALEXEY KUZMIN-TARASOV</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">NIKOLAY ZHELUDOVICH</span></p>
                                <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vkvideo.ru/video_ext.php?oid=-114734479&id=456244958&hd=2">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FILM 5 -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/zema3_poster.png" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                FILM</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">ЗЁМА 3.<br>НОВОГОДНИЙ
                                ЗАМЕС
                            </h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">YaShCHer Pictures</span></p>
                                <p>GENRE: <span class="text-white">COMEDY</span></p>
                                <p>DIRECTOR: <span class="text-white">VADIM VALIULLIN</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">ILYA GRIZENKO</span></p>
                                <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vkvideo.ru/video_ext.php?oid=-26223701&id=456242824&hd=2">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- FILM 6 -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/1675.png" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                SERIES</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">КАК ДРУЗЬЯ<br>ЗАХАРА
                                ЖЕНИЛИ
                            </h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">Good Story Media</span></p>
                                <p>GENRE: <span class="text-white">COMEDY</span></p>
                                <p>DIRECTOR: <span class="text-white">PAVEL KRIVCHIK</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">ALEXEY SURKOV</span></p>
                                <p>POSITION: <span class="text-white">PRODUCTION DESIGNER'S ASSISTANT</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash"
                                data-teaser="https://vkvideo.ru/video_ext.php?oid=-222124404&id=456239197&hd=2">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FILM 7 -->
            <div class="project-card group relative">
                <div class="card-img-wrap">
                    <img src="assets/0fda8fb0-b9fc-44c8-b9b9-e5c37e7bb317.png" class="card-img">
                    <div class="info-shade"></div>
                    <button class="info-trigger">Open info</button>
                    <div class="card-info-panel">
                        <div>
                            <div
                                class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                                SERIES</div>
                            <h3 class="font-display project-title uppercase mb-8 leading-none">МИША ПОРТИТ ВСЁ</h3>
                            <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                                <p>FILM COMPANY: <span class="text-white">МИМ</span></p>
                                <p>GENRE: <span class="text-white">COMEDY</span></p>
                                <p>DIRECTOR: <span class="text-white">ILYA SILAEV</span></p>
                                <p>CINEMATOGRAPHER: <span class="text-white">ANDREY VALENTSOV</span></p>
                                <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                            </div>
                        </div>
                        <div class="play-trigger">
                            <div class="play-smash" data-teaser="https://youtu.be/_eKlTEiRjco?si=DRgE7bxo4IM1bWwP">
                                <span>Play</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </section> <!-- End of narrative-works wrapper -->
    </section> <!-- End of .stack-area main -->

    <!-- COMMERCIALS SECTION -->
    <section id="commercials" class="stack-area relative z-10 px-0 md:px-0">
        <!-- 10 placeholders -->
        <!-- C1 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full">
                <img src="assets/GAC.png" class="card-img">
                <div class="play-note fullwidth">awaiting release</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">GAC</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">CARS</span></p>
                            <p>DIRECTOR: <span class="text-white"></span></p>
                            <p>CINEMATOGRAPHER: <span class="text-white"></span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="awaiting release"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C2 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/longidaza.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ЛОНГИДАЗА</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">PHARM</span></p>
                            <p>DIRECTOR: <span class="text-white">ANDREY LUKASHEVICH</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/1108725608?h=1c1987fb36&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C3 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/moe-delo_2.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">МОЁ ДЕЛО</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">SERVICES</span></p>
                            <p>DIRECTOR: <span class="text-white">VALENTIN RUDAKOV</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://vk.com/video_ext.php?oid=-14116069&id=456239539&hd=2">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C4 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full">
                <img src="assets/43a9f6f2-e556-453d-adad-6ef63be497c0.png" class="card-img">
                <div class="play-note fullwidth">not available</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">FOOD.RU</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">FOOD</span></p>
                            <p>DIRECTOR: <span class="text-white">IGOR GALLIS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="not available"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C5 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/AKSON.PNG" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">АКСОН</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">REPAIR</span></p>
                            <p>DIRECTOR: <span class="text-white">ILYA MEDVEDEV</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/688752449?h=b353ede11e&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C7 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/59.jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ABRAU CLUB</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">СТУДИЯ ВИДЕОПРОКАТ</span></p>
                            <p>GENRE: <span class="text-white">company products</span></p>
                            <p>POSITION: <span class="text-white">Executive producer</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/Iz1QEoKjvjM?si=cPoL3zXjzMaDxta8">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C9 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/rybo.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">RYBOMANIA</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RYBOMANIA</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>DIRECTOR: <span class="text-white">MAXIM OSTAPENKO</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/1146855166?title=0&byline=0&portrait=0&badge=0&autopause=0&app_id=58479&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C10 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/9241493c-2355-44c9-8761-4fd1ac928cd6.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">GRUSHA</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/1146848221?title=0&byline=0&portrait=0&badge=0&autopause=0&app_id=58479&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C23 MOVED ABOVE EVO SPORT -->
        <!-- C17 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/evo-sport_2.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">EVO SPORT</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">sports app</span></p>
                            <p>DIRECTOR: <span class="text-white">Nikita Vedenyapin</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/777988327?h=5a92a8a36c&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C24 -->
        <!-- C24 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/bor.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">JFS</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>DIRECTOR: <span class="text-white">DMITRY KULINICH</span></p>
                            <p>CINEMATOGRAPHER: <span class="text-white">DMITRY SUVOROV</span></p>
                            <p>POSITION: <span class="text-white">DIRECTOR/PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/1146868792?title=0&byline=0&portrait=0&badge=0&autopause=0&app_id=58479&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C25 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full">
                <img src="assets/apteka.png" class="card-img">
                <div class="play-note fullwidth">not available</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">АПТЕКИ СТОЛИЧКИ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">ПП</span></p>
                            <p>GENRE: <span class="text-white">COMPANY</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="not available"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C26 -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/42c32c58-b10d-4808-91bc-f7ba07b12b4b.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">XIAOMI</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>DIRECTOR: <span class="text-white">VLADIMIR BESEDIN</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://player.vimeo.com/video/1146913571?autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C27 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full">
                <img src="assets/de9d5ffe-9060-4d2f-bfbb-5264170699c8.png" class="card-img">
                <div class="play-note fullwidth">not available</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ДЕЛО БАНК</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="not available"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C28 -->
        <div class="project-card group relative">
            <div class="card-img-wrap cursor-contrast-zone">
                <img src="assets/12.jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">DROM.RU</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/Y3stqbGBhoc?si=oJMPMe6vbRWHJEHM">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C29 -->
        <div class="project-card group relative">
            <div class="card-img-wrap cursor-contrast-zone">
                <img src="assets/36cceffc-aee5-4df2-bac1-41fc5eb7982d.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">TOP DOG</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash"
                            data-teaser="https://player.vimeo.com/video/1146926736?h=d261bc6151&autoplay=1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C30 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full">
                <img src="assets/Изображение 3.jpg" class="card-img">
                <div class="play-note fullwidth">not available</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ЛИГА СТАВОК</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">APP</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="not available"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- C33 -->
        <div class="project-card group relative">
            <div class="card-img-wrap play-note-full cursor-contrast-zone">
                <img src="assets/a70552f2-c373-4d30-ad24-cb8b3c136e0c.png" class="card-img">
                <div class="play-note fullwidth">not available</div>
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            COMMERCIAL</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">PUMA</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">PUMA</span></p>
                            <p>GENRE: <span class="text-white">COMPANY PRODUCTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER'S ASSISTANT</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="" data-note="not available"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- TV SHOWS SECTION -->
    <section id="tvshows" class="stack-area relative z-10 px-0 md:px-0">







        <!-- TV1 ЗАПУСК -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/zapusk.jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            musical reality show</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ЗАПУСК</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">Alex Vernik</span></p>
                            <p>GENRE: <span class="text-white">MUSIC</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/0uCUzR6MpoM?si=FmjEDWdW2C-DMd6w">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV2 WINLINE -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/win.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">WINLINE BASKET CUP</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORT</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/v_-VnmsbJI0"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV3 ВЗЯЛ МЯЧ -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/vzal_mach.jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            sports show</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ВЗЯЛ МЯЧ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORT</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/j17_bGvdbCI"><span>Play</span></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV4 FISH AND CHIPS -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/DSC00362.jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">fish and chips</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/yjk9BER4wZs?si=fCTHz-TFEdGUOwq5">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV5 СПАРТАК ШОУ -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/AAS04533.JPG" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">СПАРТАК ШОУ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/4aQYtCgAidU?si=yrakutoUZKF5B1-q">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV6 КОРОБКА -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/DSC01030 (1).jpg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">КОРОБКА</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/YFY7DCb5okw?si=R8KgSzS_PIW53Ow5">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV7 ПОДКАСТ ШОУ -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/podkast.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ПОДКАСТ ШОУ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/a4N6u6Q6LSI?si=rgabV3WRP9mzGEiz">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- TV8 ЗА СТЕКЛОМ -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/tttt.jpeg" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            SPORTS SHOW</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ЗА СТЕКЛОМ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">RNGN</span></p>
                            <p>GENRE: <span class="text-white">SPORTS</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER/DEVELOPER</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/ZhjdUz4hXCs?si=nzcOj4OTixZZzzw9">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- MV SECTION -->
    <section id="mv" class="stack-area relative z-10 px-0 md:px-0">
        <!-- MV1 RASA -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/d1eb6502-6b16-4dfb-87cd-b198a7b7a846.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">RASA КОШКА</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Amir Isaev</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER'S ASSISTANT</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/kJ9IDkCapmY?si=LVsm5zZpmDCl0XrK">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV2 ARTIK & ASTI -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/32b89f0e-cc7f-4b5a-a5a9-9aea36ed8d66.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ARTIK & ASTI — ВСЕЛЕННАЯ
                        </h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Eugene</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER'S ASSISTANT/PROPS
                                    ARTIST</span>
                            </p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/3rZWY1jTvbo?si=FrwjBLMrX9_bReQZ">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV3 TSOY -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/e6aca898-4760-4ec5-a3ca-5814acf67ba7.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            music clip</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">TSOY ДЕМОН И АНГЕЛ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Alexander Igudin</span></p>
                            <p>POSITION: <span class="text-white">PRODUCTION DESIGNER'S ASSISTANT</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/D0cDClNVl10?si=yfrF6Ir8EnJ4Wrs3">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV4 L'One -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/824f86b4-fc7b-4ba7-9322-bb67d8b026c1.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            music clip</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">L'One ВОЗВРАЩЕНИЕ К
                            ИСТОКАМ
                        </h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Aitore</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/IadRjeHrUaM?si=UTNDM-qoCcZrWPOq">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV5 WRONG RADIO -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/c9536148-d0fa-42dd-8110-564e858c863a.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">WRONG RADIO<br>NYUSHA
                        </h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">MUSIC</span></p>
                            <p>DIRECTOR: <span class="text-white">Ines Po</span></p>
                            <p>CINEMATOGRAPHER: <span class="text-white">Nikita Petsa</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/ndrmeaccVEc?si=1CvTKnGAEElfBq_H">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV6 СУМАСШЕДШИЙ ТИП -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/78814a12-a24c-44de-971b-802ebc6406a7.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">СУМАСШЕДШИЙ ТИП — МАРГО
                        </h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">BS PRODUCTION</span></p>
                            <p>GENRE: <span class="text-white">MUSIC</span></p>
                            <p>DIRECTOR: <span class="text-white">Bogdan Sashchenko</span></p>
                            <p>CINEMATOGRAPHER: <span class="text-white">Victor Glazunov</span></p>
                            <p>POSITION: <span class="text-white">production designer's assistant</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/wBiU50PivS8?si=v1-wrOPkd6zL_z42">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV7 AMORE -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/6a9c93a3-ee87-4868-b568-4a7e55598018.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">AMORE MOPE
                            GOODBYE<br>FILATOV&KARAS VS МУМИЙ ТРОЛЛЬ</h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Nina Moiseeva</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/5kGG2ZfHQQM?si=OQJ7N2WbM2weEm-x">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MV8 ДИСКОТЕКА АВАРИЯ -->
        <div class="project-card group relative">
            <div class="card-img-wrap">
                <img src="assets/f0b14c45-cc59-4b4d-b41d-75786c269326.png" class="card-img">
                <div class="info-shade"></div>
                <button class="info-trigger">Open info</button>
                <div class="card-info-panel">
                    <div>
                        <div
                            class="font-tech text-xs border border-white/20 inline-block px-2 py-1 rounded mb-6 text-gray-400">
                            MUSIC CLIP</div>
                        <h3 class="font-display project-title uppercase mb-8 leading-none">ДИСКОТЕКА АВАРИЯ —
                            ПОТЕРЯВШИЙ
                        </h3>
                        <div class="font-tech text-[11px] uppercase tracking-wider text-gray-500 space-y-2">
                            <p>FILM COMPANY: <span class="text-white">TBD</span></p>
                            <p>GENRE: <span class="text-white">music</span></p>
                            <p>DIRECTOR: <span class="text-white">Evgeny Bystrov</span></p>
                            <p>POSITION: <span class="text-white">PROPS ARTIST</span></p>
                        </div>
                    </div>
                    <div class="play-trigger">
                        <div class="play-smash" data-teaser="https://youtu.be/N515KzX5esI?si=r7H-iZ2dEBB14_x1">
                            <span>Play</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- BIO -->
    <section id="other" class="bio-section px-6 md:px-12 py-20">
        <video class="bio-video" id="bio-video" src="assets/Scene_description_a_1080p_202512162344.mp4" muted
            playsinline></video>
        <div class="bio-shell max-w-5xl mx-auto">
            <div class="space-y-6">
                <div class="bio-heading">
                    <h2 class="bio-title font-display">DK</h2>
                    <p class="bio-subtitle">Production Designer</p>
                    <p class="bio-name">Dmitry Kulinich</p>
                </div>
                <div class="bio-text space-y-4">
                    <p>With over 7 years of experience in the film industry and participation in 40+ projects, I
                        work
                        at the intersection of visual storytelling, production design, and emerging technologies.
                    </p>
                    <p>I am comfortable taking responsibility at key production stages - from concept development to
                        on-set execution and post-production workflows.</p>
                    <p class="bio-section-title">Skills</p>
                    <p class="bio-skill-title">Production Designer / Art Director</p>
                    <p class="bio-skill-desc">Developing visual concepts, environments, and narrative-driven spaces.
                        Working closely with directors and cinematographers to shape the visual language of a
                        project.</p>
                    <p class="bio-skill-title">Set Builder / Construction Supervisor</p>
                    <p class="bio-skill-desc">Designing and overseeing the construction of sets, installations, and
                        physical environments, with a strong focus on realism, durability, and on-set efficiency.
                    </p>
                    <p class="bio-skill-title">AI Production</p>
                    <p class="bio-skill-desc">Integrating AI tools into creative and production pipelines: concept
                        generation, previs, virtual environments, and experimental visual workflows for film and
                        digital content.</p>
                    <p class="bio-skill-title">Props Artist</p>
                    <p class="bio-skill-desc">Creating, sourcing, and managing props that support character, story,
                        and
                        atmosphere - from subtle everyday objects to complex hero props.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- START PROJECT CTA -->
    <section class="start-section relative z-10">
        <button id="start-project-btn" class="start-cta" type="button"
            onclick="window.open('https://t.me/DK_production_designer', '_blank')">
            <div class="film-tape">
                <div class="tape-track" aria-hidden="true"></div>
            </div>
            <div class="reel reel-1"></div>
            <div class="reel reel-2"></div>
            <div class="reel reel-3"></div>
            <div class="start-record-glow" aria-hidden="true"></div>
            <img class="start-record"
                src="assets/IMAGE%202025-12-17%2008:06:23%20(%D1%84%D0%BE%D0%BD%20%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD).png"
                alt="DK record">
            <div class="cta-inner">
                <div class="start-word">START</div>
                <div class="project-word">Project</div>
            </div>
        </button>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="contact-section">
        <div class="contact-overlay" aria-hidden="true">
            <div class="contact-card">
                <div class="name">Dmitry Kulinich</div>
                <div class="headline">Production Designer</div>
                <div class="contacts">
                    <a href="#" data-contact-link="tel:+79250167291" class="hover:text-black">+7 925 016 72 91</a>
                    <a href="#" data-contact-link="mailto:KULICHPATRIOTS@GMAIL.COM"
                        class="hover:text-black">KULICHPATRIOTS@GMAIL.COM</a>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-[#050505] px-6 relative z-10">
        <div class="max-w-7xl mx-auto">
            <div class="footer-bar">
                <div class="footer-mark">DK</div>
            </div>
        </div>
    </footer>

    <!-- ЭКРАН ДЕТАЛЕЙ (С КНОПКОЙ ЗАКРЫТЬ) -->
    <div id="project-detail">
        <!-- КНОПКА ЗАКРЫТЬ -->
        <div class="close-btn" onclick="closeProject()">CLOSE [X]</div>

        <div class="text-center">
            <h2 class="font-display text-4xl md:text-6xl text-white mb-4" id="detail-title">PROJECT NAME</h2>
            <p class="font-tech text-xs text-gray-500 tracking-widest">LOADING CONTENT...</p>
        </div>
    </div>

    <style>
        #teaser-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.92);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 11000;
            padding: 24px;
        }

        #teaser-content {
            width: min(96vw, 1600px);
            max-height: 92vh;
            aspect-ratio: 16 / 9;
            background: #050505;
            position: relative;
            overflow: hidden;
            padding-top: 52px;
            cursor: none;
        }

        #teaser-video,
        #teaser-iframe {
            position: absolute;
            left: 0;
            right: 0;
            bottom: 0;
            top: 52px;
            width: 100%;
            height: calc(100% - 52px);
            display: none;
            object-fit: cover;
            border: 0;
            cursor: none;
        }

        #teaser-close.teaser-close {
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 140px;
            text-align: center;
            z-index: 12010;
        }

        .teaser-open .art-eye {
            pointer-events: none;
            opacity: 1;
            z-index: 0;
        }
    </style>

    <!-- TEASER MODAL -->
    <div id="teaser-modal">
        <div id="teaser-content">
            <video id="teaser-video" playsinline controls></video>
            <iframe id="teaser-iframe" allow="autoplay; fullscreen" allowfullscreen></iframe>
            <button id="teaser-close" class="close-btn teaser-close">CLOSE</button>
        </div>
    </div>

    <script>
        // 1. АУДИО (ИСПРАВЛЕНО)
        const audio = document.getElementById('bg-music');
        const soundBtn = document.querySelector('.sound-btn');
        const bodyEl = document.body;
        const bgVolume = 0.06;
        const audioTimeKey = 'dk-bg-music-time';
        const startBtn = document.getElementById('asteroid-btn'); // Changed to asteroid-btn
        const homeLink = document.getElementById('home-link');
        const detailScreen = document.getElementById('project-detail');
        let detailTimer;
        let detailOpen = false;
        let detailOpenScrollY = 0;
        let detailOpenedAt = 0;
        let lastScrollY = window.scrollY;
        const teaserModal = document.getElementById('teaser-modal');
        const teaserClose = document.getElementById('teaser-close');
        const teaserVideo = document.getElementById('teaser-video');
        const teaserIframe = document.getElementById('teaser-iframe');
        let musicStarted = false;
        let audioWasPlaying = false;
        let resumeOnFocus = false;
        const cursorDot = document.querySelector('.cursor-dot');
        const glowEl = document.querySelector('.start-record-glow');
        let audioCtx;
        let analyser;
        let analyserData;
        let mediaSource;
        let gainNode;
        let glowEnergy = 0.18;
        let beatKick = 0;
        let lastBeatAt = 0;


        function applyAudioVolume() {
            if (!audio) return;
            if (gainNode) {
                gainNode.gain.value = bgVolume;
                audio.volume = 1;
            } else {
                audio.volume = bgVolume;
            }
        }

        function ensureAudioAnalyser() {
            if (!audio || analyser) return;
            const AudioCtx = window.AudioContext || window.webkitAudioContext;
            if (!AudioCtx) return;
            audioCtx = audioCtx || new AudioCtx();
            if (!mediaSource) {
                analyser = audioCtx.createAnalyser();
                analyser.fftSize = 256;
                analyser.smoothingTimeConstant = 0.72;
                mediaSource = audioCtx.createMediaElementSource(audio);
                gainNode = audioCtx.createGain();
                gainNode.gain.value = bgVolume;
                mediaSource.connect(analyser);
                analyser.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                analyserData = new Uint8Array(analyser.frequencyBinCount);
            }
        }

        function resumeAudioContext() {
            if (audioCtx && audioCtx.state === 'suspended') {
                audioCtx.resume().catch(() => { });
            }
        }

        function applyGlow(intensity) {
            if (!glowEl) return;
            const clamped = Math.max(0.08, Math.min(intensity, 1));
            const scale = 2.995 + clamped * 0.009;
            const blur = 1 + clamped * 1.6;
            glowEl.style.setProperty('--glow-intensity', clamped.toFixed(3));
            glowEl.style.setProperty('--glow-scale', scale.toFixed(3));
            glowEl.style.setProperty('--glow-blur', `${blur.toFixed(1)}px`);
        }

        function updateGlowPulse() {
            if (!glowEl) return;
            let target = 0.18;
            if (analyser && !audio.paused && !audio.muted) {
                analyser.getByteFrequencyData(analyserData);
                const count = Math.max(6, Math.floor(analyserData.length * 0.25));
                let sum = 0;
                for (let i = 0; i < count; i++) sum += analyserData[i];
                const avg = sum / count / 255;
                const now = performance.now();
                if (avg > 0.18 && now - lastBeatAt > 160) {
                    beatKick = 0.18 + Math.random() * 0.18;
                    lastBeatAt = now;
                }
                beatKick *= 0.86;
                target = 0.16 + avg * 0.75 + beatKick;
            } else {
                const t = performance.now() / 1000;
                const idle = 0.03 + 0.03 * Math.sin(t * 1.4) + 0.02 * Math.sin(t * 0.6 + 1.4);
                target = 0.12 + idle;
            }
            glowEnergy += (target - glowEnergy) * 0.25;
            applyGlow(glowEnergy);
            requestAnimationFrame(updateGlowPulse);
        }
        updateGlowPulse();

        // Не позволяем браузеру запоминать скролл при обновлении
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }
        const resetScrollTop = () => {
            window.scrollTo({ top: 0, left: 0, behavior: 'instant' });
            // дублируем через небольшой таймаут для Safari/Lenis
            setTimeout(() => window.scrollTo(0, 0), 20);
        };
        window.addEventListener('load', resetScrollTop);
        window.addEventListener('beforeunload', resetScrollTop);

        // ACID WAVE PRELOADER (Canvas)
        class AcidWavePreloader {
            constructor() {
                this.container = document.getElementById('preloader');
                this.canvas = document.getElementById('preloader-canvas');
                if (!this.container || !this.canvas) return;

                this.ctx = this.canvas.getContext('2d');
                this.time = 0;
                this.rafId = null;
                this.isActive = true;
                this.duration = 6000;
                this.startTime = Date.now();
                this.isLoaded = false;
                this.finishStart = null;
                this.finishFrom = 0;
                this.finishDuration = 400;
                this.progress = 0;

                document.body.classList.add('is-locked');
                document.body.classList.add('intro-active');
                document.body.classList.remove('cursor-active');

                this.resize();
                window.addEventListener('resize', () => this.resize());
                this.loop();

                window.addEventListener('load', () => {
                    this.isLoaded = true;
                    const now = Date.now();
                    this.finishStart = Math.max(this.startTime + this.duration, now);
                    this.finishFrom = this.progress;
                });
            }

            resize() {
                if (!this.isActive) return;
                this.width = this.canvas.width = window.innerWidth;
                this.height = this.canvas.height = 300;
            }

            loop() {
                if (!this.isActive) return;

                const now = Date.now();
                let targetProgress = 0;
                if (this.isLoaded) {
                    if (this.finishStart && now < this.finishStart) {
                        const elapsed = now - this.startTime;
                        targetProgress = Math.min(elapsed / this.duration, 0.95);
                    } else {
                        const finishElapsed = now - (this.finishStart || now);
                        const t = Math.min(finishElapsed / this.finishDuration, 1);
                        targetProgress = this.finishFrom + (1 - this.finishFrom) * t;
                    }
                } else {
                    const elapsed = now - this.startTime;
                    targetProgress = Math.min(elapsed / this.duration, 0.95);
                }
                this.progress = Math.max(this.progress, targetProgress);

                this.time += 0.04; // Smooth, slow movement
                const { ctx, width, height, time } = this;

                ctx.clearRect(0, 0, width, height);

                const mainColor = '#d1ff0f';
                const threadColor = 'rgba(209, 255, 15, 0.15)'; // Faint "needle-like" thread

                // Function to get organic wave Y
                const getWaveY = (x) => {
                    let yOffset = Math.sin(x * 0.01 + time) * 12;
                    yOffset += Math.sin(x * 0.028 - time * 0.7) * 7;
                    yOffset += Math.sin(x * 0.005 + time * 0.4) * 15;
                    return height / 2 + yOffset;
                };

                // 1. Draw the BACKGROUND THREAD (the whole path)
                ctx.lineWidth = 1;
                ctx.strokeStyle = threadColor;
                ctx.shadowBlur = 0;
                ctx.beginPath();
                for (let x = 0; x <= width; x += 4) {
                    const y = getWaveY(x);
                    if (x === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.stroke();

                // 2. Draw the PROGRESS "CRAWLING" along the thread
                const drawWidth = width * this.progress;
                if (drawWidth > 0) {
                    ctx.lineWidth = 1.5;
                    ctx.strokeStyle = mainColor;
                    ctx.shadowBlur = 12;
                    ctx.shadowColor = mainColor;

                    ctx.beginPath();
                    for (let x = 0; x <= drawWidth; x += 4) {
                        const y = getWaveY(x);
                        if (x === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    ctx.stroke();

                    // 3. Small "Head" glow at the tip of progress
                    const tipX = drawWidth;
                    const tipY = getWaveY(tipX);
                    ctx.fillStyle = mainColor;
                    ctx.beginPath();
                    ctx.arc(tipX, tipY, 1.5, 0, Math.PI * 2);
                    ctx.fill();
                }

                if (this.isLoaded && this.progress >= 1) {
                    this.hide();
                    return;
                }

                this.rafId = requestAnimationFrame(() => this.loop());
            }

            getLoadProgress() {
                const images = Array.from(document.images || []);
                const media = Array.from(document.querySelectorAll('video'));
                const total = images.length + media.length;
                if (total === 0) {
                    const elapsed = Date.now() - this.startTime;
                    return Math.min(elapsed / this.duration, 0.95);
                }
                let loaded = 0;
                images.forEach(img => {
                    if (img.complete && img.naturalWidth > 0) loaded += 1;
                });
                media.forEach(v => {
                    if (v.readyState >= 2) loaded += 1;
                });
                const ratio = loaded / total;
                return Math.min(ratio * 0.95, 0.95);
            }

            hide() {
                if (!this.isActive) return;
                this.isActive = false;
                this.container.classList.add('is-hidden');
                cancelAnimationFrame(this.rafId);
                document.documentElement.classList.remove('preloading');
                document.body.classList.add('cursor-active');
                setTimeout(() => {
                    if (this.container) this.container.remove();
                }, 700);
            }
        }
        new AcidWavePreloader();


        // Стартуем без проектов, если нет якоря в URL
        const applyHashView = () => {
            const h = location.hash || '';

            // Map Hashes to Views
            const hashMap = {
                '#contact': 'view-contact',
                '#commercials': 'view-commercials',
                '#film': 'view-films',
                '#tvshows': 'view-tvshows',
                '#mv': 'view-mv',
                '#other': 'view-bio'
            };

            // Remove Intro if hash exists
            if (h) {
                bodyEl.classList.remove('view-intro');
            } else {
                bodyEl.classList.add('view-intro');
                return;
            }

            // Apply specific view if mapped
            if (hashMap[h]) {
                const targetId = h.replace('#', '') === 'other' ? 'other' : h.replace('#', '');
                // Special handling for bio animation
                if (h === '#other') playBioAnimation();

                // Reuse setView logic or manual
                if (typeof setView === 'function') {
                    setView(hashMap[h], targetId);
                } else {
                    document.body.classList.remove('view-commercials', 'view-films', 'view-tvshows', 'view-mv', 'view-bio', 'view-contact');
                    document.body.classList.add(hashMap[h]);
                    const t = document.getElementById(targetId);
                    if (t) setTimeout(() => t.scrollIntoView({ behavior: 'smooth' }), 100);
                }
            }
        };
        window.addEventListener('hashchange', applyHashView);
        window.addEventListener('load', applyHashView);

        function showProjects(targetSelector) {
            bodyEl.classList.remove('view-intro');
            const targetEl = targetSelector ? document.querySelector(targetSelector) : document.querySelector('#film');

            // IF we want "filtering" behavior like desktop:
            const viewMap = {
                '#commercials': 'view-commercials',
                '#film': 'view-films',
                '#tvshows': 'view-tvshows',
                '#mv': 'view-mv',
                '#other': 'view-bio',
                '#contact': 'view-contact'
            };
            if (viewMap[targetSelector]) {
                // Update hash to trigger applyHashView logic?
                // Or call setView directly? setView is better to avoid double jumps.
                // But setView handles body classes.
                // Let's rely on setView if available (hoisted).
                if (typeof setView === 'function') {
                    setView(viewMap[targetSelector], targetSelector.replace('#', ''));
                }
            }

            if (targetEl) {
                setTimeout(() => targetEl.scrollIntoView({ behavior: 'smooth', block: 'start' }), 40);
            }
        }

        function showIntro() {
            bodyEl.classList.remove('view-commercials', 'view-films', 'view-tvshows', 'view-mv', 'view-bio', 'view-contact');
            bodyEl.classList.add('view-intro');
            resetBioVideo?.();
            window.history.replaceState(null, '', window.location.pathname);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // AUDIO ANALYZER SETUP
        // Removed explicit analyser setup to revert to simple playback if preferred, 
        // BUT keeping ensureAudioAnalyser as it was a robust fix for audio context.
        // User asked to "revert everything we edited in this session".
        // In the session we ADDED ensureAudioAnalyser. So we should remove it 
        // or revert startMusic to simple form.

        applyAudioVolume();
        if (audio) {
            const savedTime = parseFloat(localStorage.getItem(audioTimeKey) || '0');
            if (!Number.isNaN(savedTime) && savedTime > 0) {
                audio.currentTime = savedTime;
            }
            audio.addEventListener('timeupdate', () => {
                if (!audio.paused) {
                    localStorage.setItem(audioTimeKey, String(audio.currentTime));
                }
            });
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'hidden') {
                    localStorage.setItem(audioTimeKey, String(audio.currentTime || 0));
                }
            });
        }

        function startMusic() {
            if (musicStarted && !audio.paused) return;
            musicStarted = true;
            audio.muted = false;
            applyAudioVolume();
            // audio.currentTime = 0; 

            // Reverting to simple play as per user request to "return everything as it was"
            // If the original code had context resumption, we keep it minimum.
            // Original code likely just had audio.play() logic.

            const playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.then(() => {
                    if (soundBtn) soundBtn.classList.add('playing');
                }).catch(e => {
                    console.log("Audio Error:", e);
                    setTimeout(() => {
                        audio.play().catch(err => console.log("Retry fail", err));
                    }, 300);
                });
            }
        }


        // DOUBLE RESTART STRATEGY
        function triggerDoubleMusicStart() {
            startMusic();
            setTimeout(() => {
                if (audio.paused) startMusic();
            }, 500);
        }

        function toggleAudio() {
            // Safer toggle
            if (!musicStarted) {
                startMusic();
                return;
            }
            if (!audio.paused) {
                audio.pause();
                soundBtn.classList.remove('playing');
            } else {
                startMusic();
            }
        }

        // После завершения — сразу повтор
        audio.addEventListener('ended', () => {
            audio.currentTime = 0;
            audio.play().catch(() => { });
        });
        audio.addEventListener('play', () => {
            ensureAudioAnalyser();
            resumeAudioContext();
            applyAudioVolume();
            soundBtn.classList.add('playing');
        });

        // Флаг завершения интро
        let introDone = false;

        // Asteroid click is handled by the intro overlay logic; don't auto-jump to a section.


        // 2. ОТКРЫТИЕ / ЗАКРЫТИЕ ПРОЕКТА
        function scheduleDetailAutoClose() {
            if (detailTimer) clearTimeout(detailTimer);
            detailTimer = setTimeout(() => {
                if (detailOpen) closeProject(true);
            }, 20000); // авто-закрытие через 20с
        }

        function openProject(name) {
            document.getElementById('detail-title').innerText = name;
            // Reveal before animating
            const ds = document.getElementById('project-detail');
            if (ds) ds.style.display = 'flex';

            gsap.to('#project-detail', { y: '0%', duration: 0.8, ease: 'power4.inOut', onStart: () => { if (ds) ds.style.pointerEvents = 'auto'; } });
            detailOpen = true;
            detailOpenScrollY = window.scrollY;
            detailOpenedAt = performance.now();
            scheduleDetailAutoClose();
        }

        function closeProject(force = false) {
            if (detailTimer) {
                clearTimeout(detailTimer);
                detailTimer = null;
            }
            if (!detailOpen && !force) return;
            detailOpen = false;

            const ds = document.getElementById('project-detail');

            gsap.to('#project-detail', {
                y: '100%',
                duration: 0.8,
                ease: 'power4.inOut',
                onComplete: () => {
                    if (ds) {
                        ds.style.pointerEvents = 'none';
                        // Hide after animation to prevent ghost button on scroll
                        ds.style.display = 'none';
                    }
                }
            });
        }

        // Закрывать всплывающее окно при скролле вниз
        window.addEventListener('scroll', () => {
            const currentY = window.scrollY;
            const scrolledEnough = Math.abs(currentY - detailOpenScrollY) > 5;
            if (detailOpen && scrolledEnough) {
                closeProject(true);
            }
            // если двинулись — закрываем инфо-панели
            if (Math.abs(currentY - lastScrollY) > 5) {
                closeAllInfoPanels();
            }
            lastScrollY = currentY;
        }, { passive: true });

        // Доп. контроль времени (fallback)
        setInterval(() => {
            if (detailOpen && performance.now() - detailOpenedAt > 20500) {
                closeProject(true);
            }
        }, 5000);


        // 3. ЧАСТИЦЫ (PARTICLES)
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];
        let lastWidth = window.innerWidth;
        let lastHeight = window.innerHeight;
        let hasSized = false;

        function resize() {
            const newWidth = window.innerWidth;
            const newHeight = window.innerHeight;
            if (hasSized && newWidth === lastWidth && newHeight === lastHeight) return;

            const prevWidth = width || newWidth;
            const prevHeight = height || newHeight;
            const scaleX = newWidth / prevWidth;
            const scaleY = newHeight / prevHeight;

            if (hasSized && (scaleX !== 1 || scaleY !== 1)) {
                particles.forEach(p => {
                    p.x = Math.min(newWidth, Math.max(0, p.x * scaleX));
                    p.y = Math.min(newHeight, Math.max(0, p.y * scaleY));
                    p.homeX = Math.min(newWidth, Math.max(0, p.homeX * scaleX));
                    p.homeY = Math.min(newHeight, Math.max(0, p.homeY * scaleY));
                });
            }

            lastWidth = newWidth;
            lastHeight = newHeight;
            hasSized = true;
            width = canvas.width = newWidth;
            height = canvas.height = newHeight;
        }
        window.addEventListener('resize', resize);
        resize();

        // DYNAMIC HEADER HEIGHT (Strict Alignment)
        function updateHeaderHeight() {
            const nav = document.querySelector('nav');
            if (nav) {
                const height = nav.getBoundingClientRect().height;
                // Set CSS variable for precise alignment
                document.documentElement.style.setProperty('--header-height', height + 'px');
            }
        }
        window.addEventListener('load', updateHeaderHeight);
        window.addEventListener('resize', updateHeaderHeight);
        // Run immediately in case DOM is ready
        updateHeaderHeight();

        class Particle {
            constructor() {
                this.homeX = Math.random() * width;
                this.homeY = Math.random() * height;
                this.x = this.homeX;
                this.y = this.homeY;
                // Slower drift
                this.vx = (Math.random() - 0.5) * 0.08;
                this.vy = (Math.random() - 0.5) * 0.08;
                // Smaller size
                this.size = 0.4 + Math.random() * 0.8;
                this.isMigrating = false;
                this.index = 0;
                this.alphaOffset = Math.random() * Math.PI * 2;
                this.blinkSpeed = 0.001 + Math.random() * 0.003; // Random blink speed
                this.alpha = 0.4;
                this.targetSize = null;
            }
            // Calculate visual Y position with parallax and wrapping
            getVisualY(scrollY) {
                if (window.innerWidth < 768) return this.y;
                const h = window.innerHeight;
                // Parallax: Background moves at 0.5 speed
                let vy = this.y - (scrollY * 0.5);
                // Wrap to screen height to create infinite field
                return ((vy % h) + h) % h;
            }

            update(mx, my) {
                const isMobile = window.innerWidth < 768;
                // User Request: "Calmer mobile particles" -> Reduced from 0.6 to 0.25
                const speedFactor = isMobile ? 0.25 : 1.0;

                // 1. Blinking
                const time = Date.now();
                const blink = Math.sin(time * this.blinkSpeed + this.alphaOffset);
                this.alpha = 0.5 + 0.4 * blink;



                // 3. STATE: MIGRATION (Explosion -> Home)
                if (this.isMigrating) {
                    // Force solid opacity during flight (Small stars flying)
                    this.alpha = 1.0;

                    // Smooth lerp to Home Position (Targeting Logic)
                    const hx = this.homeX || this.x;
                    const hy = this.homeY || this.y;

                    const dx = hx - this.x;
                    const dy = hy - this.y;
                    const dist = Math.hypot(dx, dy);

                    // Move towards home
                    const lerp = this.migrationSpeed || 0.05;
                    this.x += dx * lerp;
                    this.y += dy * lerp;

                    // Size is already targetSize (set in burst), no need to shrink.

                    // Arrived?
                    if (dist < 1.0) {
                        this.isMigrating = false;
                        this.x = hx;
                        this.y = hy;
                        // Restore drift velocity
                        this.vx = (Math.random() - 0.5) * 0.08;
                        this.vy = (Math.random() - 0.5) * 0.08;
                    }
                    return; // Skip normal update during migration
                }


                // 3. STATE: NORMAL (Drift + Interaction)
                this.x += this.vx * speedFactor;
                this.y += this.vy * speedFactor;

                // Shrink Logic safety (in case not finished)
                if (this.targetSize && this.size > this.targetSize) {
                    this.size -= (this.size - this.targetSize) * 0.05;
                }

                // Interaction: mouse (desktop) or touch (mobile)
                if (!isTouchDevice) {
                    const dx = mx - this.x;
                    const dy = my - this.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    // Gentle Attraction Radius (100px)
                    if (dist < 100) {
                        const force = (100 - dist) / 100;
                        const attractionSpeed = isMobile ? 0.05 : 0.2;

                        this.vx += (dx / dist) * force * attractionSpeed;
                        this.vy += (dy / dist) * force * attractionSpeed;

                        this.vx *= 0.92;
                        this.vy *= 0.92;
                    }
                } else if (touchActive) {
                    const dx = touchX - this.x;
                    const dy = touchY - this.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const radius = 160;
                    if (dist < radius) {
                        const force = (radius - dist) / radius;
                        const press = 0.08 + touchStrength * 0.35;
                        this.vx += (dx / dist) * force * press;
                        this.vy += (dy / dist) * force * press;
                        this.vx *= 0.9;
                        this.vy *= 0.9;
                    }
                }

                if (touchBurst > 0.001) {
                    const dx = this.x - touchX;
                    const dy = this.y - touchY;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    const burstRadius = 220;
                    if (dist < burstRadius) {
                        const force = (burstRadius - dist) / burstRadius;
                        const burst = touchBurst * 0.6;
                        this.vx += (dx / dist) * force * burst;
                        this.vy += (dy / dist) * force * burst;
                    }
                }

                // Wrap Logic
                const width = window.innerWidth;
                const height = window.innerHeight;
                if (this.x < 0) this.x = width;
                if (this.x > width) this.x = 0;
                if (this.y < 0) this.y = height;
                if (this.y > height) this.y = 0;
            }
            draw(scrollY) {
                const vy = this.getVisualY(scrollY);
                ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
                ctx.beginPath();
                ctx.arc(this.x, vy, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        const isTouchDevice = window.matchMedia('(hover: none) and (pointer: coarse)').matches;
        for (let i = 0; i < 350; i++) {
            const p = new Particle();
            p.index = i;
            particles.push(p);
        }

        if (cursorDot) gsap.set(cursorDot, { xPercent: -50, yPercent: -50 });

        let mx = width / 2, my = height / 2;
        let touchActive = false;
        let touchStrength = 0;
        let touchX = width / 2;
        let touchY = height / 2;
        let touchBurst = 0;
        window.addEventListener('mousemove', e => {
            mx = e.clientX; my = e.clientY;
            if (cursorDot) {
                const el = document.elementFromPoint(e.clientX, e.clientY);
                const inContrastZone = el && el.closest('.cursor-contrast-zone');
                cursorDot.classList.toggle('is-contrast', Boolean(inContrastZone));
                gsap.to(cursorDot, { x: mx, y: my, duration: 0.08, ease: 'power2.out' });
            }
        });
        window.addEventListener('pointermove', e => {
            if (cursorDot) gsap.set(cursorDot, { x: e.clientX, y: e.clientY });
        });

        window.addEventListener('touchstart', (e) => {
            const t = e.touches[0];
            if (!t) return;
            touchActive = true;
            touchX = t.clientX;
            touchY = t.clientY;
            touchStrength = typeof t.force === 'number' && t.force > 0 ? t.force : 0.35;
        }, { passive: true });

        window.addEventListener('touchmove', (e) => {
            const t = e.touches[0];
            if (!t) return;
            touchX = t.clientX;
            touchY = t.clientY;
            touchStrength = typeof t.force === 'number' && t.force > 0 ? t.force : 0.45;
        }, { passive: true });

        window.addEventListener('touchend', () => {
            if (touchActive) touchBurst = 1;
            touchActive = false;
            touchStrength = 0;
        }, { passive: true });

        function animateCanvas() {
            const scrollY = window.innerWidth < 768 ? 0 : window.scrollY;
            ctx.clearRect(0, 0, width, height);
            ctx.strokeStyle = 'rgba(255,255,255,0.05)';
            ctx.lineWidth = 0.5;
            if (touchBurst > 0) {
                touchBurst *= 0.9;
            }

            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.update(mx, my);
                // Use scrollY for infinite parallax drawing
                p.draw && p.draw(scrollY);

                // Lines only on desktop to save mobile performance
                if (window.innerWidth > 768) {
                    // Check if getVisualY exists (it will be added next)
                    const py = p.getVisualY ? p.getVisualY(scrollY) : p.y;

                    for (let j = i + 1; j < particles.length; j++) {
                        const p2 = particles[j];
                        // Optimization: Quick X check
                        if (Math.abs(p.x - p2.x) > 35) continue;

                        const py2 = p2.getVisualY ? p2.getVisualY(scrollY) : p2.y;
                        const dist = Math.sqrt((p.x - p2.x) ** 2 + (py - py2) ** 2);
                        // Connection radius REDUCED 2x (User Request: 70 -> 35)
                        if (dist < 35) {
                            ctx.beginPath();
                            ctx.moveTo(p.x, py);
                            ctx.lineTo(p2.x, py2);
                            ctx.stroke();
                        }
                    }
                }
            }
            requestAnimationFrame(animateCanvas);
        }
        animateCanvas();




        // 4. LENIS SCROLL
        // Lenis (soft scroll) — Disable on mobile for native stability
        if (window.Lenis && window.innerWidth > 768) {
            const lenis = new Lenis();
            function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
            requestAnimationFrame(raf);
        } else {
            console.log('Lenis disabled on mobile or not found.');
            document.documentElement.style.scrollBehavior = 'auto';
        }


        // 6. INTRO OVERLAY (asteroid -> particles -> site -> music)
        const introOverlay = document.getElementById('intro-overlay');
        const asteroidBtn = document.getElementById('asteroid-btn');
        const explosionCanvas = document.getElementById('explosion-canvas');
        const explosionCtx = explosionCanvas.getContext('2d');
        const explosionParticles = [];
        let explosionActive = false;

        const baseline = {
            vx: particles.map(p => p.vx),
            vy: particles.map(p => p.vy),
            size: particles.map(p => p.size),
        };

        function resizeExplosionCanvas() {
            explosionCanvas.width = window.innerWidth;
            explosionCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeExplosionCanvas);
        resizeExplosionCanvas();

        function burstParticles(cx, cy) {
            const isMobile = window.innerWidth < 768;
            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                // 1. Establish "Home" position (Background Star Position)
                // We use their current random position as the target "Home"
                p.homeX = Math.random() * width;
                p.homeY = Math.random() * height;

                // 2. Start at Asteroid Center
                p.x = cx;
                p.y = cy;
                p.vx = 0; // Reset velocity, movement will be migration-based
                p.vy = 0;

                // 3. Size: Start EVEN SMALLER (User Request: "reduce size in half again")
                // Previously 0.5 + rand*1.5. Now 0.25 + rand*0.75
                p.targetSize = 0.25 + Math.random() * 0.75;
                p.size = p.targetSize; // Set directly to target size, NO shrinking from chunks

                // 4. Enable Migration Phase
                p.isMigrating = true;

                // Random speed for migration (so they don't all arrive at once)
                // Stores a "lerp factor" for this particle
                p.migrationSpeed = 0.02 + Math.random() * 0.04;
            }
        }

        function launchExplosion(cx, cy) {
            explosionParticles.length = 0;
            const isMobile = window.innerWidth < 768;
            const count = isMobile ? 350 : 220;

            for (let i = 0; i < count; i++) {
                const a = Math.random() * Math.PI * 2;
                const speed = 3 + Math.random() * 7; // шире разлёт
                explosionParticles.push({
                    x: cx,
                    y: cy,
                    vx: Math.cos(a) * speed,
                    vy: Math.sin(a) * speed,
                    life: 180 + Math.random() * 80,
                    size: isMobile ? (0.4 + Math.random() * 1.2) : (1 + Math.random() * 2.8), // мелкие
                    alpha: 1,
                });
            }
            if (!explosionActive) {
                explosionActive = true;
                requestAnimationFrame(stepExplosion);
            }
        }

        function stepExplosion() {
            if (!explosionActive) return;

            explosionCtx.clearRect(0, 0, explosionCanvas.width, explosionCanvas.height);

            for (let i = explosionParticles.length - 1; i >= 0; i--) {
                const p = explosionParticles[i];
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.03; // меньшая гравитация
                p.life -= 1;
                p.alpha = Math.max(0, p.life / 140); // дольше живут

                explosionCtx.fillStyle = `rgba(220, 220, 220, ${p.alpha})`;
                explosionCtx.beginPath();
                explosionCtx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                explosionCtx.fill();

                if (p.life <= 0) explosionParticles.splice(i, 1);
            }

            if (explosionParticles.length > 0) {
                requestAnimationFrame(stepExplosion);
            } else {
                explosionActive = false;
            }
        }

        function restoreParticles() {
            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.vx = baseline.vx[i];
                p.vy = baseline.vy[i];
                p.size = baseline.size[i];
                p.isMigrating = false;
            }
        }

        function endIntro() {
            introDone = true;

            introOverlay.classList.add('is-hidden');
            document.body.classList.remove('is-locked');
            document.body.classList.remove('view-intro');

            // Round 7: Start Page Clean State (Hero Only)
            // Restore Original Behavior: Just remove intro view
            // document.body.classList.remove('view-intro', 'view-films', 'view-commercials', 'view-tvshows', 'view-mv', 'view-bio', 'view-contact');
            window.scrollTo(0, 0);

            // Force Clear Hash to prevent auto-navigation
            history.replaceState(null, '', window.location.pathname);

            // Ensure hidden projects by default (via style attribute or class)
            // But verify header is visible
            gsap.set('header', { opacity: 1, visibility: 'visible', zIndex: 20 });
            gsap.set('.hero-title', { opacity: 1, visibility: 'visible', y: 0 });

            setTimeout(() => {
                introOverlay.style.display = 'none';
                document.body.classList.remove('intro-active');
                document.body.classList.add('cursor-active');
            }, 650);

            // Start music strictly after asteroid interaction
            // (Handled by interaction now, but safe to ensure)
            // startMusic(); 

            // Restore baseline particle behavior after the burst settles
            setTimeout(restoreParticles, 1200);
        }

        if (asteroidBtn && introOverlay) {

            // ROBUST AUDIO UNLOCKER
            const unlockAudio = () => {
                if (window.audioCtx) {
                    if (window.audioCtx.state === 'suspended') {
                        window.audioCtx.resume();
                    }
                }
                startMusic();
            };

            // FLAG to prevent double-firing (Touch + Click)
            // FLAG to prevent double-firing (if click fires multiple times)
            let interactionPending = false;

            const handleAsteroidInteraction = (e) => {
                if (introDone || interactionPending) return;

                // iOS Audio Fix:
                // We rely strictly on 'click' as it is the most robust "User Gesture" for audio.
                // This matches the overlay logic which implies a slight 300ms delay on touch,
                // but guarantees the browser allows startMusic().

                interactionPending = true;

                // Unlock immediately
                unlockAudio();

                // Visual FX
                asteroidBtn.classList.add('is-exploding');
                asteroidBtn.classList.add('is-fading');

                // Burst Coords
                let cx = e.clientX || (window.innerWidth / 2);
                let cy = e.clientY || (window.innerHeight / 2);

                // Fallback for click-triggered-by-touch if needed, but clientX usually exists

                burstParticles(cx, cy);
                launchExplosion(cx, cy);

                // HEADLESS FIX: Force audio play directly on user interaction
                if (audio) {
                    audio.muted = false;
                    applyAudioVolume();
                    audio.play().catch(e => console.warn("Force play fail:", e));
                    if (soundBtn) soundBtn.classList.add('playing');
                }

                setTimeout(endIntro, 1200);
            };

            // STRICT SINGLE LISTENER (Click Only)
            // We removed touchstart to avoid "gesture consumption" issues on iOS.
            // Click is 100% safe for audio.
            asteroidBtn.addEventListener('click', handleAsteroidInteraction);

            // Fallback: click anywhere on overlay
            introOverlay.addEventListener('click', (e) => {
                if (e.target === introOverlay && !introDone) {
                    unlockAudio();
                    endIntro();
                }
            });
        }


        // 5. ANIMATIONS
        gsap.registerPlugin(ScrollTrigger);
        gsap.to('.hero-title', { opacity: 1, y: 0, duration: 2, ease: "power3.out", delay: 0.5 });

        // HERO TITLE TRIGGER & ANIMATION
        const heroTitle = document.getElementById('hero-title');
        const heroTiltWrap = document.querySelector('.hero-tilt');

        function wrapHeroLetters() {
            if (!heroTitle) return;
            heroTitle.querySelectorAll('span').forEach(span => {
                const text = span.textContent;
                span.innerHTML = '';
                [...text].forEach(ch => {
                    const letter = document.createElement('span');
                    letter.className = 'hero-letter';
                    letter.textContent = ch;
                    span.appendChild(letter);
                });
            });
        }
        wrapHeroLetters();

        if (heroTiltWrap && heroTitle) {
            heroTiltWrap.addEventListener('mousemove', (e) => {
                const rect = heroTiltWrap.getBoundingClientRect();
                const x = (e.clientX - rect.left) / rect.width - 0.5;
                const y = (e.clientY - rect.top) / rect.height - 0.5;
                const maxTilt = 7;
                gsap.to(heroTitle, {
                    rotationY: x * maxTilt,
                    rotationX: -y * maxTilt,
                    transformPerspective: 800,
                    duration: 0.4,
                    ease: 'power2.out',
                    filter: 'drop-shadow(0 0 26px rgba(255,255,255,0.12))'
                });
            });
            heroTiltWrap.addEventListener('mouseleave', () => {
                gsap.to(heroTitle, {
                    rotationX: 0,
                    rotationY: 0,
                    duration: 0.6,
                    ease: 'power3.out',
                    filter: 'none'
                });
            });
        }

        // Nav subtitle pulsing color
        const navSubtitle = document.querySelector('.nav-subtitle');
        const navLinks = document.querySelectorAll('.nav-link');
        if (navSubtitle && navLinks.length) {
            let navGreen = false;
            setInterval(() => {
                navGreen = !navGreen;
                if (navGreen) {
                    navSubtitle.classList.add('accent-yg');
                    navLinks.forEach(l => l.classList.remove('accent-yg'));
                } else {
                    navSubtitle.classList.remove('accent-yg');
                    navLinks.forEach(l => l.classList.add('accent-yg'));
                }
            }, 30000);
        }

        let heroBurstTimer;

        function setHeroBurst() {
            if (!heroTitle) return;
            heroTitle.classList.add('bursting');
            clearTimeout(heroBurstTimer);
            heroBurstTimer = setTimeout(() => {
                heroTitle.classList.remove('bursting');
            }, 30000);
        }

        function launchLetter(letterEl) {
            if (letterEl.dataset.locked === '1') return;
            letterEl.dataset.locked = '1';
            const dx = (Math.random() - 0.5) * 220;
            const dy = - (window.innerHeight * 0.6 + Math.random() * 200);
            const rot = (Math.random() - 0.5) * 200;
            gsap.to(letterEl, {
                x: dx,
                y: dy,
                rotation: rot,
                scale: 0.9,
                duration: 1.2,
                ease: 'power2.in',
                onComplete: () => {
                    gsap.set(letterEl, { opacity: 0 });
                }
            });
            setHeroBurst();
            setTimeout(() => {
                gsap.set(letterEl, { x: 0, y: 0, rotation: 0, scale: 1, opacity: 1 });
                letterEl.dataset.locked = '0';
            }, 15000);
        }

        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('hero-letter')) {
                launchLetter(e.target);
            }
        });

        // Info panel toggles on project cards (uniform logic)
        const infoTimers = new WeakMap();
        const closeAllInfoPanels = () => {
            document.querySelectorAll('.project-card.info-open').forEach(card => {
                card.classList.remove('info-open');
                const trg = card.querySelector('.info-trigger');
                if (trg) trg.textContent = 'Open info';
                const tId = infoTimers.get(card);
                if (tId) clearTimeout(tId);
                infoTimers.delete(card);
            });
        };

        document.querySelectorAll('.project-card').forEach(card => {
            const shade = card.querySelector('.info-shade');
            const trigger = card.querySelector('.info-trigger');
            const cardImgWrap = card.querySelector('.card-img-wrap');

            const openInfo = () => {
                closeAllInfoPanels();
                card.classList.add('info-open');
                if (trigger) trigger.textContent = 'Close info';
                const timerId = setTimeout(() => {
                    card.classList.remove('info-open');
                    if (trigger) trigger.textContent = 'Open info';
                    infoTimers.delete(card);
                }, 20000);
                infoTimers.set(card, timerId);
            };
            const closeInfo = () => {
                card.classList.remove('info-open');
                if (trigger) trigger.textContent = 'Open info';
                const timerId = infoTimers.get(card);
                if (timerId) {
                    clearTimeout(timerId);
                    infoTimers.delete(card);
                }
            };
            const toggleInfo = (e) => {
                e?.stopPropagation();
                if (card.classList.contains('info-open')) {
                    closeInfo();
                } else {
                    openInfo();
                }
            };

            // button click toggles
            trigger?.addEventListener('click', toggleInfo);
            // двойной клик по картинке — toggle
            cardImgWrap?.addEventListener('dblclick', toggleInfo);
            // закрытие по затемнению
            shade?.addEventListener('click', closeInfo);
            // Esc закрывает
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeInfo();
            });
            // клик по картинке (одинарный) не трогаем, чтобы случайно не закрывать; по запросу можно добавить
        });

        // NAV: Bind all links (desktop + mobile)
        const bindNav = (selector, handler) => {
            document.querySelectorAll(selector).forEach(link => {
                link.addEventListener('click', handler);
            });
        };
        const bioSection = document.getElementById('other');
        const bioVideo = document.getElementById('bio-video');
        const contactSection = document.getElementById('contact');
        // Home Link Logic
        homeLink?.addEventListener('click', (e) => {
            e.preventDefault();

            // 1. Close Mobile Menu if open
            if (typeof isMobileMenuOpen !== 'undefined' && isMobileMenuOpen) {
                toggleMobileMenu();
            }

            // 2. Animate Logo
            gsap.fromTo(homeLink, { scale: 0.9, rotate: -2 }, { scale: 1, rotate: 0, duration: 0.4, ease: 'elastic.out(1, 0.5)' });

            // Mobile logo text bounce
            if (window.innerWidth < 768) {
                const dkText = homeLink.querySelector('.font-display');
                if (dkText) {
                    dkText.classList.remove('dk-mobile-active');
                    void dkText.offsetWidth;
                    dkText.classList.add('dk-mobile-active');
                    setTimeout(() => {
                        dkText.classList.remove('dk-mobile-active');
                    }, 500);
                }
            }

            // 3. Reset to clean start state (Intro)
            // Restore baseline to ensure clean switch when going back to projects
            document.body.classList.remove('view-films', 'view-commercials', 'view-tvshows', 'view-mv', 'view-bio', 'view-contact');

            setView('view-intro', ''); // Use view-intro to match initial body state

            // Force scroll reset
            window.scrollTo(0, 0);

            closeAllInfoPanels();
            if (typeof closeProject === 'function') closeProject();
        });

        // HOISTED setView
        function setView(viewName, targetId) {
            const wasBio = document.body.classList.contains('view-bio');
            document.body.classList.remove('view-intro', 'view-commercials', 'view-films', 'view-tvshows', 'view-mv', 'view-bio', 'view-contact', 'view-start');
            if (viewName) document.body.classList.add(viewName);

            // Clear default inline hidden style so CSS can control visibility
            const stackMain = document.querySelector('.stack-main');
            if (stackMain) stackMain.style.display = '';

            if (wasBio && viewName !== 'view-bio') {
                // Fix: Delay video reset to ensure CSS hides the container first.
                // Prevents "green flash" where video clears before section vanishes.
                setTimeout(resetBioVideo, 50);
            }
            const target = document.getElementById(targetId);
            if (target) {
                // INSTANT JUMP no smooth scroll to avoid conflicts
                requestAnimationFrame(() => {
                    window.scrollTo(0, 0);
                });
            }
        }

        const playBioAnimation = () => {
            const bio = document.getElementById('other');
            if (bio) {
                bio.classList.remove('bio-animate');
                // Trigger reflow
                void bio.offsetWidth;
                bio.classList.add('bio-animate');
                startBioVideo();
            }
        };

        bindNav('.nav-link-commercials', (e) => {
            e.preventDefault();
            setView('view-commercials', 'commercials');
        });
        bindNav('.nav-link-films', (e) => {
            e.preventDefault();
            setView('view-films', 'film');
        });
        bindNav('a[href="#tvshows"]', (e) => {
            e.preventDefault();
            setView('view-tvshows', 'tvshows');
        });
        bindNav('a[href="#mv"]', (e) => {
            e.preventDefault();
            setView('view-mv', 'mv');
        });
        bindNav('a[href="#other"]', (e) => {
            e.preventDefault();
            playBioAnimation();
            setView('view-bio', 'other');
        });

        // Add Click Animation to ALL desktop nav links
        const desktopNavLinks = document.querySelectorAll('.nav-link, .nav-link-commercials, .nav-link-films');
        desktopNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                // Remove from all others
                desktopNavLinks.forEach(l => l.classList.remove('nav-click-anim'));

                // Add to clicked
                link.classList.add('nav-click-anim');

                // Remove after animation ensures it can run again if clicked later
                setTimeout(() => {
                    link.classList.remove('nav-click-anim');
                }, 500);
            });
        });

        // CONTACT LINKS: open once, prevent repeated triggers
        document.querySelectorAll('[data-contact-link]').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const href = link.getAttribute('data-contact-link');
                if (!href) return;
                window.open(href, '_blank');
            });
        });
        bindNav('a[href="#contact"]', (e) => {
            e.preventDefault();
            setView('view-contact', 'contact');
            startContactVideo();
        });

        // BIO WebGL liquid effect
        function startBioVideo() {
            if (bioVideo) {
                bioVideo.currentTime = 0;
                bioSection?.classList.remove('bio-fallback');
                bioVideo.play().catch(() => { });
            }
        }
        function resetBioVideo() {
            if (bioVideo) {
                bioVideo.pause();
                // Removed .load() to prevent "green flash" (clearing video frame revealing background)
                // We just pause it.

                // Optional: reset time if needed, but safe to leave for next play
                bioVideo.currentTime = 0;

                bioSection?.classList.remove('bio-fallback');
            }
        }
        function stopBioVideo() {
            if (bioVideo) {
                bioVideo.pause();
                bioVideo.currentTime = 0;
                bioSection?.classList.remove('bio-fallback');
            }
        }
        if (bioVideo) {
            bioVideo.addEventListener('ended', () => {
                bioSection?.classList.add('bio-fallback');
                bioVideo.pause();
            });
        }

        // запускаем/останавливаем видео при входе/выходе
        if (bioSection) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(e => {
                    if (e.isIntersecting) {
                        startBioVideo();
                    } else {
                        stopBioVideo();
                    }
                });
            }, { threshold: 0.2 });
            observer.observe(bioSection);
        }



        // HOME LINK ANIMATION
        // HOME LINK ANIMATION (Logic consolidated above)
        // Listener removed to prevent duplicate handling

        // TEASER MODAL LOGIC
        function isIframeLink(url) {
            const u = url.toLowerCase();
            return u.includes('youtube.com') || u.includes('youtu.be') || u.includes('vimeo.com') || u.includes('vk.com/video') || u.includes('vkvideo.ru/video');
        }
        function toYoutubeEmbed(url) {
            try {
                const u = new URL(url);
                if (u.hostname.includes('youtu.be')) {
                    const id = u.pathname.replace('/', '');
                    return `https://www.youtube.com/embed/${id}?autoplay=1`;
                }
                if (u.hostname.includes('youtube.com')) {
                    const id = u.searchParams.get('v');
                    if (id) return `https://www.youtube.com/embed/${id}?autoplay=1`;
                }
            } catch (_) { }
            return url;
        }
        function closeTeaser() {
            teaserModal.style.display = 'none';
            if (teaserVideo) {
                teaserVideo.pause();
                teaserVideo.removeAttribute('src');
                teaserVideo.style.display = 'none';
            }
            teaserIframe.src = '';
            teaserIframe.style.display = 'none';
            if (audio) audio.muted = false;
            if (audioWasPlaying) {
                audio.play().catch(() => { });
                soundBtn?.classList.add('playing');
            }
            audioWasPlaying = false;
            document.body.classList.remove('teaser-open');
        }
        function openTeaser(url) {
            if (!url) return;
            if (audio) {
                audioWasPlaying = !audio.paused && !audio.ended;
                audio.pause();
                soundBtn?.classList.remove('playing');
            }
            document.body.classList.add('teaser-open');
            // очистим предыдущий медиа-контент без возобновления музыки
            if (teaserVideo) {
                teaserVideo.pause();
                teaserVideo.removeAttribute('src');
                teaserVideo.style.display = 'none';
            }
            teaserIframe.src = '';
            teaserIframe.style.display = 'none';
            if (isIframeLink(url)) {
                let src = url.includes('youtu') ? toYoutubeEmbed(url) : url;
                if (!src.toLowerCase().includes('autoplay=')) {
                    src += (src.includes('?') ? '&' : '?') + 'autoplay=1';
                }
                teaserIframe.src = src;
                teaserIframe.allow = 'autoplay; fullscreen; encrypted-media; picture-in-picture';
                teaserIframe.style.display = 'block';
            } else {
                teaserVideo.src = url;
                teaserVideo.muted = false;
                teaserVideo.volume = 1;
                teaserVideo.autoplay = true;
                teaserVideo.style.display = 'block';
                teaserVideo.play().catch(() => { });
            }
            teaserModal.style.display = 'flex';
        }
        teaserClose?.addEventListener('click', closeTeaser);
        teaserModal?.addEventListener('click', (e) => {
            if (e.target === teaserModal) closeTeaser();
        });
        document.querySelectorAll('.play-smash').forEach(btn => {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                const url = btn.dataset.teaser || '';
                const cardWrap = btn.closest('.card-img-wrap');
                const card = btn.closest('.project-card');
                // note overlay on card
                const noteText = btn.dataset.note;
                if (noteText && cardWrap) {
                    const noteEl = cardWrap.querySelector('.play-note');
                    if (noteEl) {
                        noteEl.textContent = noteText;
                        noteEl.classList.add('is-visible');
                        setTimeout(() => noteEl.classList.remove('is-visible'), 10000);
                    }
                    // Для карточек с примечанием (GAC) закрываем info-панель сразу
                    if (card && card.classList.contains('info-open')) {
                        card.classList.remove('info-open');
                        const tId = infoTimers.get(card);
                        if (tId) clearTimeout(tId);
                        infoTimers.delete(card);
                        const trg = card.querySelector('.info-trigger');
                        if (trg) trg.textContent = 'Open info';
                    }
                }
                if (btn.dataset.target === 'newtab') {
                    if (audio) {
                        audioWasPlaying = !audio.paused;
                        if (audioWasPlaying) {
                            audio.pause();
                            soundBtn?.classList.remove('playing');
                            resumeOnFocus = true;
                        }
                    }
                    window.open(url, '_blank', 'noopener,noreferrer');
                    return;
                }
                openTeaser(url);
            });
        });

        // 7. IOS FIX FOR KINOPOISK ICON (Black on Wake)
        // Force repaint of the drop-shadow filter when page becomes visible (Unlock/Wake)
        document.addEventListener('visibilitychange', () => {
            if (document.visibilityState === 'visible') {
                const icon = document.getElementById('kinopoisk-icon');
                if (icon) {
                    // Slight transform tweak forces WebKit to recomposite the layer and re-apply filter
                    icon.style.transform = 'translateX(-52px) scale(1.0001)';
                    setTimeout(() => {
                        icon.style.transform = 'translateX(-52px) scale(1)';
                    }, 50);
                }
            }
        });

        window.addEventListener('focus', () => {
            if (resumeOnFocus) {
                resumeOnFocus = false;
                audio.play().catch(() => { });
                soundBtn?.classList.add('playing');
            }
        });


        // ART EYE FOLLOW
        const artEye = document.querySelector('.art-eye');
        const eyeIrisGroup = document.getElementById('eye-iris-group');
        const scleraPath = document.getElementById('eye-sclera');
        function updateEye(e) {
            if (!artEye || !eyeIrisGroup) return;
            const rect = artEye.getBoundingClientRect();
            const scleraRect = scleraPath ? scleraPath.getBoundingClientRect() : rect;
            const cx = scleraRect.left + scleraRect.width / 2;
            const cy = scleraRect.top + scleraRect.height / 2;
            const dx = e.clientX - cx;
            const dy = e.clientY - cy;
            // асимметричные отступы: больше хода влево/вверх, меньше вправо/вниз; сильнее режем низ/левый-низ
            const irisR = 14;
            const baseMargin = 6;
            const halfX = Math.max(10, (scleraRect.width / 2) - irisR - baseMargin);
            const halfY = Math.max(10, (scleraRect.height / 2) - irisR - baseMargin);
            const maxLeft = -halfX * 1.4;
            const maxRight = halfX * 0.75;
            const maxUp = -halfY * 1.65;
            const maxDown = halfY * 0.55;
            // Elliptical clamp (asymmetric)
            const axisX = dx < 0 ? -maxLeft : maxRight;
            const axisY = dy < 0 ? -maxUp : maxDown;
            const distSq = (dx / axisX) ** 2 + (dy / axisY) ** 2;
            let finalX = dx;
            let finalY = dy;
            if (distSq > 1) {
                const scale = 1 / Math.sqrt(distSq);
                finalX = dx * scale;
                finalY = dy * scale;
            }
            gsap.to(eyeIrisGroup, { x: finalX, y: finalY, duration: 0.1, ease: 'power2.out' });
        }
        document.addEventListener('mousemove', updateEye);

        // Eye close on click (15s) + random blink
        let eyeCloseTimer;
        const blinkOnce = (duration = 180) => {
            if (!artEye || artEye.classList.contains('eye-closed')) return;
            artEye.classList.add('eye-closed');
            setTimeout(() => artEye.classList.remove('eye-closed'), duration);
        };
        if (artEye) {
            artEye.addEventListener('click', (e) => {
                e.stopPropagation();
                if (artEye.classList.contains('eye-closed')) return;
                artEye.classList.add('eye-closed');
                clearTimeout(eyeCloseTimer);
                eyeCloseTimer = setTimeout(() => {
                    artEye.classList.remove('eye-closed');
                }, 15000);
            });
            // random blinking
            const scheduleBlink = () => {
                const delay = 4000 + Math.random() * 3000; // 4-7c
                setTimeout(() => {
                    blinkOnce(140 + Math.random() * 80);
                    scheduleBlink();
                }, delay);
            };
            scheduleBlink();
        }

        // --- MOBILE INTERACTION LOGIC (Injected) ---
        document.querySelectorAll('.project-card').forEach(card => {
            const panel = card.querySelector('.card-info-panel');
            const playTrigger = card.querySelector('.play-trigger');
            const cardImgWrap = card.querySelector('.card-img-wrap');

            if (!panel || !playTrigger) return;

            // 1. Back Button Injection
            if (!playTrigger.querySelector('.play-back-btn')) {
                const backBtn = document.createElement('div');
                backBtn.className = 'play-back-btn';
                backBtn.textContent = 'BACK';
                playTrigger.appendChild(backBtn);
                backBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    closeAllInfoPanels();
                });
            }

            // 2. Poster Logic: Click to Open, Swipe Right to Open
            if (cardImgWrap) {
                // Click
                cardImgWrap.addEventListener('click', (e) => {
                    if (e.target.closest('button') || e.target.closest('.play-trigger')) return;
                    openInfo();
                });

                // Swipe Right -> Open
                let pStartX = 0;
                cardImgWrap.addEventListener('touchstart', (e) => {
                    pStartX = e.changedTouches[0].screenX;
                }, { passive: true });

                cardImgWrap.addEventListener('touchend', (e) => {
                    const diff = e.changedTouches[0].screenX - pStartX;
                    if (diff > 50) { // Swipe Right > 50px
                        openInfo();
                    }
                }, { passive: true });
            }

            // 3. Panel Logic: Double Tap Close, Swipe Left/Up/Down Close
            // Double Tap
            panel.addEventListener('dblclick', (e) => {
                if (e.target === panel || e.target.closest('.card-info-panel')) closeAllInfoPanels();
            });

            // Swipe Gestures
            let touchStartX = 0;
            let touchStartY = 0;
            panel.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                touchStartY = e.changedTouches[0].screenY;
            }, { passive: true });

            panel.addEventListener('touchend', (e) => {
                const touchEndX = e.changedTouches[0].screenX;
                const touchEndY = e.changedTouches[0].screenY;

                const diffX = touchEndX - touchStartX;
                const diffY = touchEndY - touchStartY;

                // Swipe Left (Close) : diffX < -50
                // Swipe Up/Down (Close) : Math.abs(diffY) > 50
                // Check dominant axis roughly? Or just if any threshold is met.

                if (diffX < -50 || Math.abs(diffY) > 50) {
                    closeAllInfoPanels();
                }
            }, { passive: true });
        });

        // 5. Header Icon Animations (Synchronized Cycle: 5s ON, 5s OFF)
        const phoneIcon = document.querySelector('a[href^="tel:"]');
        const tgIcon = document.querySelector('a[href*="t.me"]');

        const updateIcons = () => {
            const now = Date.now();
            const cycle = 15000; // 15s total cycle (User Request)
            const t = now % cycle;
            const isActive = t < 5000; // 0-5s ON, 5-15s OFF

            if (isActive) {
                // Apply Green Color
                if (phoneIcon) phoneIcon.classList.add('icon-active-green');
                if (tgIcon) tgIcon.classList.add('icon-active-green');

                // Apply Specific Animations
                if (phoneIcon) phoneIcon.classList.add('anim-phone');
                if (tgIcon) tgIcon.classList.add('anim-plane');
            } else {
                // Reset
                if (phoneIcon) {
                    phoneIcon.classList.remove('icon-active-green', 'anim-phone');
                }
                if (tgIcon) {
                    tgIcon.classList.remove('icon-active-green', 'anim-plane');
                }
            }
        };

        // Start Loop
        setInterval(updateIcons, 1000);
        updateIcons(); // Init immediate

        // Manual Click Feedback
        const headerIcons = document.querySelectorAll('a[href^="tel:"], a[href*="t.me"]');
        headerIcons.forEach(icon => {
            icon.addEventListener('click', () => {
                // Force momentary restart of animation + green
                icon.classList.remove('icon-active-green', 'anim-phone', 'anim-plane');
                void icon.offsetWidth;

                icon.classList.add('icon-active-green');
                if (icon.getAttribute('href').startsWith('tel:')) {
                    icon.classList.add('anim-phone');
                } else {
                    icon.classList.add('anim-plane');
                }
            });
        });


    </script>
</body>

</html>
